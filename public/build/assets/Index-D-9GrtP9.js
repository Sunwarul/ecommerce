import{N,g as $,o as l,w as i,b as n,a as o,u as t,W as c,c as m,e as v,t as b,d as T,G as B,H as P,S as V,F as A}from"./app-D6VZwh9m.js";import{r as L}from"./imageHelper-BscTlunE.js";import{a as u,s as y}from"./index-B6Pde6JK.js";import{a as M,s as a}from"./index-Czo10koq.js";import{_ as j}from"./AuthenticatedLayout-DT9N2QIJ.js";import"./index-Bullbt4E.js";import"./index-DCyjV8R-.js";import"./index-dySuYGkv.js";import"./index-n8HDM0GN.js";import"./index-BpCuBuyp.js";import"./index-BkgCVwsV.js";import"./index-nBDTfL0O.js";import"./index-DHpg9Iw7.js";import"./index-epzkeV3O.js";import"./index-BRY12YYk.js";import"./index-Cztb6yLy.js";import"./index-i0hyh6Zq.js";import"./index-CI0YzODO.js";import"./index-tP7xAp8r.js";import"./index-CjlLxlRm.js";import"./index-Bm_3Bs0b.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./FavIcons-BO6-abF3.js";const D={class:"space-y-6"},E={class:"card"},H={class:"flex justify-between items-center mb-3"},I=["src"],q={key:1,class:"text-gray-500"},F={class:"font-medium"},K={class:"mt-3 flex flex-wrap gap-1"},W=["onClick","innerHTML"],me={__name:"Index",props:{products:{type:Object,required:!0}},setup(f){const h=f,_=N(()=>h.products||{data:[],links:[]}),k=s=>{s&&c.visit(s,{preserveScroll:!0,preserveState:!0})},g=()=>c.visit(route("products.create")),C=s=>c.visit(route("products.show",s.id)),x=s=>c.visit(route("products.edit",s.id)),S=s=>{confirm("Delete this product?")&&c.delete(route("products.destroy",s.id),{preserveScroll:!0,preserveState:!0})},w=s=>s.total_stock!==void 0&&s.total_stock!==null?Number(s.total_stock):Array.isArray(s.stocks)?s.stocks.reduce((d,p)=>d+Number(p.quantity||0),0):0;return(s,d)=>(l(),$(j,null,{default:i(()=>{var p;return[n("div",D,[n("div",E,[n("div",H,[d[0]||(d[0]=n("h2",{class:"text-xl font-semibold"},"Products",-1)),o(t(u),{label:"New Product",icon:"pi pi-plus",class:"p-button-sm",onClick:g})]),o(t(M),{value:_.value.data,dataKey:"id",paginator:!1,class:"w-full"},{default:i(()=>[o(t(a),{header:"Thumbnail"},{body:i(({data:e})=>[e.thumbnail?(l(),m("img",{key:0,src:t(L)(e.thumbnail),alt:"Thumbnail",class:"w-10 h-10 object-cover rounded"},null,8,I)):(l(),m("span",q,"No image"))]),_:1}),o(t(a),{field:"name",header:"Name"}),o(t(a),{header:"Type"},{body:i(({data:e})=>[o(t(y),{severity:e.type==="variable"?"info":"secondary",value:e.type},null,8,["severity","value"])]),_:1}),o(t(a),{field:"sku",header:"SKU"}),o(t(a),{header:"Category"},{body:i(({data:e})=>{var r;return[v(b(((r=e.category)==null?void 0:r.name)||"-"),1)]}),_:1}),o(t(a),{header:"Brand"},{body:i(({data:e})=>{var r;return[v(b(((r=e.brand)==null?void 0:r.name)||"-"),1)]}),_:1}),o(t(a),{field:"base_price",header:"Base Price"}),o(t(a),{header:"Total Stock"},{body:i(({data:e})=>[n("span",F,b(w(e)),1)]),_:1}),o(t(a),{header:"Status"},{body:i(({data:e})=>[o(t(y),{severity:e.is_active?"success":"danger"},{default:i(()=>[v(b(e.is_active?"Active":"Inactive"),1)]),_:2},1032,["severity"])]),_:1}),o(t(a),{header:"Actions"},{body:i(({data:e})=>[o(t(u),{label:"View",icon:"pi pi-eye",class:"p-button-text p-button-sm mr-1",onClick:r=>C(e)},null,8,["onClick"]),o(t(u),{label:"Edit",icon:"pi pi-pencil",class:"p-button-text p-button-sm mr-1",onClick:r=>x(e)},null,8,["onClick"]),o(t(u),{label:"Delete",icon:"pi pi-trash",class:"p-button-text p-button-danger p-button-sm",onClick:r=>S(e)},null,8,["onClick"]),o(t(u),{label:"Stock Movement",icon:"pi pi-sort-alt",class:"p-button-secondary",onClick:r=>t(c).visit(s.route("admin.stock.move.form",e.id))},null,8,["onClick"])]),_:1})]),_:1},8,["value"]),n("div",K,[(p=s.link)!=null&&p.url?(l(!0),m(B,{key:0},P(_.value.links||[],e=>(l(),m("button",{key:((e==null?void 0:e.url)||"")+e.label,class:A(["px-3 py-1 border rounded text-sm",{"bg-gray-200 font-semibold":e.active}]),onClick:V(r=>k(e.url),["prevent"]),innerHTML:e.label},null,10,W))),128)):T("",!0)])])])]}),_:1}))}};export{me as default};
