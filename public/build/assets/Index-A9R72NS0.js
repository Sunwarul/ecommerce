import{_ as He}from"./AuthenticatedLayout-BaSUhMCN.js";import{B as We,k as ce,l as Xe,p as N,q as Ce,s as Ze,v as Je,x as Qe,y as Ye,z as et,A as tt,D as nt,E as ie,G as le,H as ot,c as b,o as m,I as Z,d as C,J as P,b as i,a as p,K as it,j as se,m as O,F as J,i as ae,w as A,L as lt,t as v,T as st,M as at,N as rt,e as q,O as Ae,n as Fe,f as D,r as S,u as f,W,g as ut,Q as dt,R as Ve}from"./app-C0cgKEVJ.js";import{r as ct}from"./imageHelper-BscTlunE.js";import{a as M,s as pt}from"./index-BrdrWM5Y.js";import{s as ye}from"./index-1aIBLaft.js";import{s as re}from"./index-CEUOXfel.js";import{s as X}from"./index-Bqd9hyBX.js";import{s as j,a as ft}from"./index-CbEqa0vW.js";import{s as mt,C as ht,Z as be,O as vt,U as Le}from"./index-DchAFvzt.js";import{s as bt}from"./index-DB_Lcll3.js";import{R as yt,s as gt}from"./index-HU_mUv9Y.js";import{s as xt}from"./index-7jgc03X3.js";import{a as Ot}from"./index-CASaY_cd.js";import{s as wt,a as kt}from"./index-DIiKZPDj.js";import"./index-CZnd7t6v.js";import"./index-RF1b40_i.js";import"./index-Bq_PLBQx.js";import"./index-DguU-g0e.js";import"./index-Do0mVlXl.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./FavIcons-xHxhwu_P.js";import"./index-KEq5E4jG.js";var It=function(e){var n=e.dt;return`
.p-autocomplete {
    display: inline-flex;
}

.p-autocomplete-loader {
    position: absolute;
    top: 50%;
    margin-top: -0.5rem;
    inset-inline-end: `.concat(n("autocomplete.padding.x"),`;
}

.p-autocomplete:has(.p-autocomplete-dropdown) .p-autocomplete-loader {
    inset-inline-end: calc(`).concat(n("autocomplete.dropdown.width")," + ").concat(n("autocomplete.padding.x"),`);
}

.p-autocomplete:has(.p-autocomplete-dropdown) .p-autocomplete-input {
    flex: 1 1 auto;
    width: 1%;
}

.p-autocomplete:has(.p-autocomplete-dropdown) .p-autocomplete-input,
.p-autocomplete:has(.p-autocomplete-dropdown) .p-autocomplete-input-multiple {
    border-start-end-radius: 0;
    border-end-end-radius: 0;
}

.p-autocomplete-dropdown {
    cursor: pointer;
    display: inline-flex;
    user-select: none;
    align-items: center;
    justify-content: center;
    overflow: hidden;
    position: relative;
    width: `).concat(n("autocomplete.dropdown.width"),`;
    border-start-end-radius: `).concat(n("autocomplete.dropdown.border.radius"),`;
    border-end-end-radius: `).concat(n("autocomplete.dropdown.border.radius"),`;
    background: `).concat(n("autocomplete.dropdown.background"),`;
    border: 1px solid `).concat(n("autocomplete.dropdown.border.color"),`;
    border-inline-start: 0 none;
    color: `).concat(n("autocomplete.dropdown.color"),`;
    transition: background `).concat(n("autocomplete.transition.duration"),", color ").concat(n("autocomplete.transition.duration"),", border-color ").concat(n("autocomplete.transition.duration"),", outline-color ").concat(n("autocomplete.transition.duration"),", box-shadow ").concat(n("autocomplete.transition.duration"),`;
    outline-color: transparent;
}

.p-autocomplete-dropdown:not(:disabled):hover {
    background: `).concat(n("autocomplete.dropdown.hover.background"),`;
    border-color: `).concat(n("autocomplete.dropdown.hover.border.color"),`;
    color: `).concat(n("autocomplete.dropdown.hover.color"),`;
}

.p-autocomplete-dropdown:not(:disabled):active {
    background: `).concat(n("autocomplete.dropdown.active.background"),`;
    border-color: `).concat(n("autocomplete.dropdown.active.border.color"),`;
    color: `).concat(n("autocomplete.dropdown.active.color"),`;
}

.p-autocomplete-dropdown:focus-visible {
    box-shadow: `).concat(n("autocomplete.dropdown.focus.ring.shadow"),`;
    outline: `).concat(n("autocomplete.dropdown.focus.ring.width")," ").concat(n("autocomplete.dropdown.focus.ring.style")," ").concat(n("autocomplete.dropdown.focus.ring.color"),`;
    outline-offset: `).concat(n("autocomplete.dropdown.focus.ring.offset"),`;
}

.p-autocomplete .p-autocomplete-overlay {
    min-width: 100%;
}

.p-autocomplete-overlay {
    position: absolute;
    top: 0;
    left: 0;
    background: `).concat(n("autocomplete.overlay.background"),`;
    color: `).concat(n("autocomplete.overlay.color"),`;
    border: 1px solid `).concat(n("autocomplete.overlay.border.color"),`;
    border-radius: `).concat(n("autocomplete.overlay.border.radius"),`;
    box-shadow: `).concat(n("autocomplete.overlay.shadow"),`;
}

.p-autocomplete-list-container {
    overflow: auto;
}

.p-autocomplete-list {
    margin: 0;
    list-style-type: none;
    display: flex;
    flex-direction: column;
    gap: `).concat(n("autocomplete.list.gap"),`;
    padding: `).concat(n("autocomplete.list.padding"),`;
}

.p-autocomplete-option {
    cursor: pointer;
    white-space: nowrap;
    position: relative;
    overflow: hidden;
    display: flex;
    align-items: center;
    padding: `).concat(n("autocomplete.option.padding"),`;
    border: 0 none;
    color: `).concat(n("autocomplete.option.color"),`;
    background: transparent;
    transition: background `).concat(n("autocomplete.transition.duration"),", color ").concat(n("autocomplete.transition.duration"),", border-color ").concat(n("autocomplete.transition.duration"),`;
    border-radius: `).concat(n("autocomplete.option.border.radius"),`;
}

.p-autocomplete-option:not(.p-autocomplete-option-selected):not(.p-disabled).p-focus {
    background: `).concat(n("autocomplete.option.focus.background"),`;
    color: `).concat(n("autocomplete.option.focus.color"),`;
}

.p-autocomplete-option-selected {
    background: `).concat(n("autocomplete.option.selected.background"),`;
    color: `).concat(n("autocomplete.option.selected.color"),`;
}

.p-autocomplete-option-selected.p-focus {
    background: `).concat(n("autocomplete.option.selected.focus.background"),`;
    color: `).concat(n("autocomplete.option.selected.focus.color"),`;
}

.p-autocomplete-option-group {
    margin: 0;
    padding: `).concat(n("autocomplete.option.group.padding"),`;
    color: `).concat(n("autocomplete.option.group.color"),`;
    background: `).concat(n("autocomplete.option.group.background"),`;
    font-weight: `).concat(n("autocomplete.option.group.font.weight"),`;
}

.p-autocomplete-input-multiple {
    margin: 0;
    list-style-type: none;
    cursor: text;
    overflow: hidden;
    display: flex;
    align-items: center;
    flex-wrap: wrap;
    padding: calc(`).concat(n("autocomplete.padding.y")," / 2) ").concat(n("autocomplete.padding.x"),`;
    gap: calc(`).concat(n("autocomplete.padding.y"),` / 2);
    color: `).concat(n("autocomplete.color"),`;
    background: `).concat(n("autocomplete.background"),`;
    border: 1px solid `).concat(n("autocomplete.border.color"),`;
    border-radius: `).concat(n("autocomplete.border.radius"),`;
    width: 100%;
    transition: background `).concat(n("autocomplete.transition.duration"),", color ").concat(n("autocomplete.transition.duration"),", border-color ").concat(n("autocomplete.transition.duration"),", outline-color ").concat(n("autocomplete.transition.duration"),", box-shadow ").concat(n("autocomplete.transition.duration"),`;
    outline-color: transparent;
    box-shadow: `).concat(n("autocomplete.shadow"),`;
}

.p-autocomplete:not(.p-disabled):hover .p-autocomplete-input-multiple {
    border-color: `).concat(n("autocomplete.hover.border.color"),`;
}

.p-autocomplete:not(.p-disabled).p-focus .p-autocomplete-input-multiple {
    border-color: `).concat(n("autocomplete.focus.border.color"),`;
    box-shadow: `).concat(n("autocomplete.focus.ring.shadow"),`;
    outline: `).concat(n("autocomplete.focus.ring.width")," ").concat(n("autocomplete.focus.ring.style")," ").concat(n("autocomplete.focus.ring.color"),`;
    outline-offset: `).concat(n("autocomplete.focus.ring.offset"),`;
}

.p-autocomplete.p-invalid .p-autocomplete-input-multiple {
    border-color: `).concat(n("autocomplete.invalid.border.color"),`;
}

.p-variant-filled.p-autocomplete-input-multiple {
    background: `).concat(n("autocomplete.filled.background"),`;
}

.p-autocomplete:not(.p-disabled):hover .p-variant-filled.p-autocomplete-input-multiple {
    background: `).concat(n("autocomplete.filled.hover.background"),`;
}

.p-autocomplete:not(.p-disabled).p-focus .p-variant-filled.p-autocomplete-input-multiple  {
    background: `).concat(n("autocomplete.filled.focus.background"),`;
}

.p-autocomplete.p-disabled .p-autocomplete-input-multiple {
    opacity: 1;
    background: `).concat(n("autocomplete.disabled.background"),`;
    color: `).concat(n("autocomplete.disabled.color"),`;
}

.p-autocomplete-chip.p-chip {
    padding-block-start: calc(`).concat(n("autocomplete.padding.y"),` / 2);
    padding-block-end: calc(`).concat(n("autocomplete.padding.y"),` / 2);
    border-radius: `).concat(n("autocomplete.chip.border.radius"),`;
}

.p-autocomplete-input-multiple:has(.p-autocomplete-chip) {
    padding-inline-start: calc(`).concat(n("autocomplete.padding.y"),` / 2);
    padding-inline-end: calc(`).concat(n("autocomplete.padding.y"),` / 2);
}

.p-autocomplete-chip-item.p-focus .p-autocomplete-chip {
    background: `).concat(n("autocomplete.chip.focus.background"),`;
    color: `).concat(n("autocomplete.chip.focus.color"),`;
}

.p-autocomplete-input-chip {
    flex: 1 1 auto;
    display: inline-flex;
    padding-block-start: calc(`).concat(n("autocomplete.padding.y"),` / 2);
    padding-block-end: calc(`).concat(n("autocomplete.padding.y"),` / 2);
}

.p-autocomplete-input-chip input {
    border: 0 none;
    outline: 0 none;
    background: transparent;
    margin: 0;
    padding: 0;
    box-shadow: none;
    border-radius: 0;
    width: 100%;
    font-family: inherit;
    font-feature-settings: inherit;
    font-size: 1rem;
    color: inherit;
}

.p-autocomplete-input-chip input::placeholder {
    color: `).concat(n("autocomplete.placeholder.color"),`;
}

.p-autocomplete.p-invalid .p-autocomplete-input-chip input::placeholder {
    color: `).concat(n("autocomplete.invalid.placeholder.color"),`;
}

.p-autocomplete-empty-message {
    padding: `).concat(n("autocomplete.empty.message.padding"),`;
}

.p-autocomplete-fluid {
    display: flex;
}

.p-autocomplete-fluid:has(.p-autocomplete-dropdown) .p-autocomplete-input {
    width: 1%;
}

.p-autocomplete:has(.p-inputtext-sm) .p-autocomplete-dropdown {
    width: `).concat(n("autocomplete.dropdown.sm.width"),`;
}

.p-autocomplete:has(.p-inputtext-sm) .p-autocomplete-dropdown .p-icon {
    font-size: `).concat(n("form.field.sm.font.size"),`;
    width: `).concat(n("form.field.sm.font.size"),`;
    height: `).concat(n("form.field.sm.font.size"),`;
}

.p-autocomplete:has(.p-inputtext-lg) .p-autocomplete-dropdown {
    width: `).concat(n("autocomplete.dropdown.lg.width"),`;
}

.p-autocomplete:has(.p-inputtext-lg) .p-autocomplete-dropdown .p-icon {
    font-size: `).concat(n("form.field.lg.font.size"),`;
    width: `).concat(n("form.field.lg.font.size"),`;
    height: `).concat(n("form.field.lg.font.size"),`;
}
`)},_t={root:{position:"relative"}},St={root:function(e){var n=e.instance,a=e.props;return["p-autocomplete p-component p-inputwrapper",{"p-disabled":a.disabled,"p-invalid":n.$invalid,"p-focus":n.focused,"p-inputwrapper-filled":n.$filled||ce(n.inputValue),"p-inputwrapper-focus":n.focused,"p-autocomplete-open":n.overlayVisible,"p-autocomplete-fluid":n.$fluid}]},pcInputText:"p-autocomplete-input",inputMultiple:function(e){e.props;var n=e.instance;return["p-autocomplete-input-multiple",{"p-variant-filled":n.$variant==="filled"}]},chipItem:function(e){var n=e.instance,a=e.i;return["p-autocomplete-chip-item",{"p-focus":n.focusedMultipleOptionIndex===a}]},pcChip:"p-autocomplete-chip",chipIcon:"p-autocomplete-chip-icon",inputChip:"p-autocomplete-input-chip",loader:"p-autocomplete-loader",dropdown:"p-autocomplete-dropdown",overlay:"p-autocomplete-overlay p-component",listContainer:"p-autocomplete-list-container",list:"p-autocomplete-list",optionGroup:"p-autocomplete-option-group",option:function(e){var n=e.instance,a=e.option,u=e.i,l=e.getItemOptions;return["p-autocomplete-option",{"p-autocomplete-option-selected":n.isSelected(a),"p-focus":n.focusedOptionIndex===n.getOptionIndex(u,l),"p-disabled":n.isOptionDisabled(a)}]},emptyMessage:"p-autocomplete-empty-message"},Ct=We.extend({name:"autocomplete",theme:It,classes:St,inlineStyles:_t}),Vt={name:"BaseAutoComplete",extends:ft,props:{suggestions:{type:Array,default:null},optionLabel:null,optionDisabled:null,optionGroupLabel:null,optionGroupChildren:null,scrollHeight:{type:String,default:"14rem"},dropdown:{type:Boolean,default:!1},dropdownMode:{type:String,default:"blank"},multiple:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},placeholder:{type:String,default:null},dataKey:{type:String,default:null},minLength:{type:Number,default:1},delay:{type:Number,default:300},appendTo:{type:[String,Object],default:"body"},forceSelection:{type:Boolean,default:!1},completeOnFocus:{type:Boolean,default:!1},inputId:{type:String,default:null},inputStyle:{type:Object,default:null},inputClass:{type:[String,Object],default:null},panelStyle:{type:Object,default:null},panelClass:{type:[String,Object],default:null},overlayStyle:{type:Object,default:null},overlayClass:{type:[String,Object],default:null},dropdownIcon:{type:String,default:null},dropdownClass:{type:[String,Object],default:null},loader:{type:String,default:null},loadingIcon:{type:String,default:null},removeTokenIcon:{type:String,default:null},chipIcon:{type:String,default:null},virtualScrollerOptions:{type:Object,default:null},autoOptionFocus:{type:Boolean,default:!1},selectOnFocus:{type:Boolean,default:!1},focusOnHover:{type:Boolean,default:!0},searchLocale:{type:String,default:void 0},searchMessage:{type:String,default:null},selectionMessage:{type:String,default:null},emptySelectionMessage:{type:String,default:null},emptySearchMessage:{type:String,default:null},showEmptyMessage:{type:Boolean,default:!0},tabindex:{type:Number,default:0},typeahead:{type:Boolean,default:!0},ariaLabel:{type:String,default:null},ariaLabelledby:{type:String,default:null}},style:Ct,provide:function(){return{$pcAutoComplete:this,$parentInstance:this}}};function ge(t){"@babel/helpers - typeof";return ge=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ge(t)}function Me(t){return Kt(t)||Dt(t)||Mt(t)||Lt()}function Lt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Mt(t,e){if(t){if(typeof t=="string")return xe(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?xe(t,e):void 0}}function Dt(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Kt(t){if(Array.isArray(t))return xe(t)}function xe(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,a=Array(e);n<e;n++)a[n]=t[n];return a}var Pe={name:"AutoComplete",extends:Vt,inheritAttrs:!1,emits:["change","focus","blur","item-select","item-unselect","option-select","option-unselect","dropdown-click","clear","complete","before-show","before-hide","show","hide"],inject:{$pcFluid:{default:null}},outsideClickListener:null,resizeListener:null,scrollHandler:null,overlay:null,virtualScroller:null,searchTimeout:null,dirty:!1,data:function(){return{id:this.$attrs.id,clicked:!1,focused:!1,focusedOptionIndex:-1,focusedMultipleOptionIndex:-1,overlayVisible:!1,searching:!1}},watch:{"$attrs.id":function(e){this.id=e||Le()},suggestions:function(){this.searching&&(this.show(),this.focusedOptionIndex=this.overlayVisible&&this.autoOptionFocus?this.findFirstFocusedOptionIndex():-1,this.searching=!1,!this.showEmptyMessage&&this.visibleOptions.length===0&&this.hide()),this.autoUpdateModel()}},mounted:function(){this.id=this.id||Le(),this.autoUpdateModel()},updated:function(){this.overlayVisible&&this.alignOverlay()},beforeUnmount:function(){this.unbindOutsideClickListener(),this.unbindResizeListener(),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.overlay&&(be.clear(this.overlay),this.overlay=null)},methods:{getOptionIndex:function(e,n){return this.virtualScrollerDisabled?e:n&&n(e).index},getOptionLabel:function(e){return this.optionLabel?ie(e,this.optionLabel):e},getOptionValue:function(e){return e},getOptionRenderKey:function(e,n){return(this.dataKey?ie(e,this.dataKey):this.getOptionLabel(e))+"_"+n},getPTOptions:function(e,n,a,u){return this.ptm(u,{context:{selected:this.isSelected(e),focused:this.focusedOptionIndex===this.getOptionIndex(a,n),disabled:this.isOptionDisabled(e)}})},isOptionDisabled:function(e){return this.optionDisabled?ie(e,this.optionDisabled):!1},isOptionGroup:function(e){return this.optionGroupLabel&&e.optionGroup&&e.group},getOptionGroupLabel:function(e){return ie(e,this.optionGroupLabel)},getOptionGroupChildren:function(e){return ie(e,this.optionGroupChildren)},getAriaPosInset:function(e){var n=this;return(this.optionGroupLabel?e-this.visibleOptions.slice(0,e).filter(function(a){return n.isOptionGroup(a)}).length:e)+1},show:function(e){this.$emit("before-show"),this.dirty=!0,this.overlayVisible=!0,this.focusedOptionIndex=this.focusedOptionIndex!==-1?this.focusedOptionIndex:this.autoOptionFocus?this.findFirstFocusedOptionIndex():-1,e&&N(this.multiple?this.$refs.focusInput:this.$refs.focusInput.$el)},hide:function(e){var n=this,a=function(){var l;n.$emit("before-hide"),n.dirty=e,n.overlayVisible=!1,n.clicked=!1,n.focusedOptionIndex=-1,e&&N(n.multiple?n.$refs.focusInput:(l=n.$refs.focusInput)===null||l===void 0?void 0:l.$el)};setTimeout(function(){a()},0)},onFocus:function(e){this.disabled||(!this.dirty&&this.completeOnFocus&&this.search(e,e.target.value,"focus"),this.dirty=!0,this.focused=!0,this.overlayVisible&&(this.focusedOptionIndex=this.focusedOptionIndex!==-1?this.focusedOptionIndex:this.overlayVisible&&this.autoOptionFocus?this.findFirstFocusedOptionIndex():-1,this.scrollInView(this.focusedOptionIndex)),this.$emit("focus",e))},onBlur:function(e){var n,a;this.dirty=!1,this.focused=!1,this.focusedOptionIndex=-1,this.$emit("blur",e),(n=(a=this.formField).onBlur)===null||n===void 0||n.call(a)},onKeyDown:function(e){if(this.disabled){e.preventDefault();return}switch(e.code){case"ArrowDown":this.onArrowDownKey(e);break;case"ArrowUp":this.onArrowUpKey(e);break;case"ArrowLeft":this.onArrowLeftKey(e);break;case"ArrowRight":this.onArrowRightKey(e);break;case"Home":this.onHomeKey(e);break;case"End":this.onEndKey(e);break;case"PageDown":this.onPageDownKey(e);break;case"PageUp":this.onPageUpKey(e);break;case"Enter":case"NumpadEnter":this.onEnterKey(e);break;case"Escape":this.onEscapeKey(e);break;case"Tab":this.onTabKey(e);break;case"Backspace":this.onBackspaceKey(e);break}this.clicked=!1},onInput:function(e){var n=this;if(this.typeahead){this.searchTimeout&&clearTimeout(this.searchTimeout);var a=e.target.value;this.multiple||this.updateModel(e,a),a.length===0?(this.hide(),this.$emit("clear")):a.length>=this.minLength?(this.focusedOptionIndex=-1,this.searchTimeout=setTimeout(function(){n.search(e,a,"input")},this.delay)):this.hide()}},onChange:function(e){var n=this;if(this.forceSelection){var a=!1;if(this.visibleOptions&&!this.multiple){var u=this.multiple?this.$refs.focusInput.value:this.$refs.focusInput.$el.value,l=this.visibleOptions.find(function(y){return n.isOptionMatched(y,u||"")});l!==void 0&&(a=!0,!this.isSelected(l)&&this.onOptionSelect(e,l))}a||(this.multiple?this.$refs.focusInput.value="":this.$refs.focusInput.$el.value="",this.$emit("clear"),!this.multiple&&this.updateModel(e,null))}},onMultipleContainerFocus:function(){this.disabled||(this.focused=!0)},onMultipleContainerBlur:function(){this.focusedMultipleOptionIndex=-1,this.focused=!1},onMultipleContainerKeyDown:function(e){if(this.disabled){e.preventDefault();return}switch(e.code){case"ArrowLeft":this.onArrowLeftKeyOnMultiple(e);break;case"ArrowRight":this.onArrowRightKeyOnMultiple(e);break;case"Backspace":this.onBackspaceKeyOnMultiple(e);break}},onContainerClick:function(e){this.clicked=!0,!(this.disabled||this.searching||this.loading||this.isDropdownClicked(e))&&(!this.overlay||!this.overlay.contains(e.target))&&N(this.multiple?this.$refs.focusInput:this.$refs.focusInput.$el)},onDropdownClick:function(e){var n=void 0;if(this.overlayVisible)this.hide(!0);else{var a=this.multiple?this.$refs.focusInput:this.$refs.focusInput.$el;N(a),n=a.value,this.dropdownMode==="blank"?this.search(e,"","dropdown"):this.dropdownMode==="current"&&this.search(e,n,"dropdown")}this.$emit("dropdown-click",{originalEvent:e,query:n})},onOptionSelect:function(e,n){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,u=this.getOptionValue(n);this.multiple?(this.$refs.focusInput.value="",this.isSelected(n)||this.updateModel(e,[].concat(Me(this.d_value||[]),[u]))):this.updateModel(e,u),this.$emit("item-select",{originalEvent:e,value:n}),this.$emit("option-select",{originalEvent:e,value:n}),a&&this.hide(!0)},onOptionMouseMove:function(e,n){this.focusOnHover&&this.changeFocusedOptionIndex(e,n)},onOverlayClick:function(e){vt.emit("overlay-click",{originalEvent:e,target:this.$el})},onOverlayKeyDown:function(e){switch(e.code){case"Escape":this.onEscapeKey(e);break}},onArrowDownKey:function(e){if(this.overlayVisible){var n=this.focusedOptionIndex!==-1?this.findNextOptionIndex(this.focusedOptionIndex):this.clicked?this.findFirstOptionIndex():this.findFirstFocusedOptionIndex();this.changeFocusedOptionIndex(e,n),e.preventDefault()}},onArrowUpKey:function(e){if(this.overlayVisible)if(e.altKey)this.focusedOptionIndex!==-1&&this.onOptionSelect(e,this.visibleOptions[this.focusedOptionIndex]),this.overlayVisible&&this.hide(),e.preventDefault();else{var n=this.focusedOptionIndex!==-1?this.findPrevOptionIndex(this.focusedOptionIndex):this.clicked?this.findLastOptionIndex():this.findLastFocusedOptionIndex();this.changeFocusedOptionIndex(e,n),e.preventDefault()}},onArrowLeftKey:function(e){var n=e.currentTarget;this.focusedOptionIndex=-1,this.multiple&&(nt(n.value)&&this.$filled?(N(this.$refs.multiContainer),this.focusedMultipleOptionIndex=this.d_value.length):e.stopPropagation())},onArrowRightKey:function(e){this.focusedOptionIndex=-1,this.multiple&&e.stopPropagation()},onHomeKey:function(e){var n=e.currentTarget,a=n.value.length;n.setSelectionRange(0,e.shiftKey?a:0),this.focusedOptionIndex=-1,e.preventDefault()},onEndKey:function(e){var n=e.currentTarget,a=n.value.length;n.setSelectionRange(e.shiftKey?0:a,a),this.focusedOptionIndex=-1,e.preventDefault()},onPageUpKey:function(e){this.scrollInView(0),e.preventDefault()},onPageDownKey:function(e){this.scrollInView(this.visibleOptions.length-1),e.preventDefault()},onEnterKey:function(e){this.typeahead?this.overlayVisible?(this.focusedOptionIndex!==-1&&this.onOptionSelect(e,this.visibleOptions[this.focusedOptionIndex]),this.hide()):(this.focusedOptionIndex=-1,this.onArrowDownKey(e)):this.multiple&&(this.updateModel(e,[].concat(Me(this.d_value||[]),[e.target.value])),this.$refs.focusInput.value=""),e.preventDefault()},onEscapeKey:function(e){this.overlayVisible&&this.hide(!0),e.preventDefault()},onTabKey:function(e){this.focusedOptionIndex!==-1&&this.onOptionSelect(e,this.visibleOptions[this.focusedOptionIndex]),this.overlayVisible&&this.hide()},onBackspaceKey:function(e){if(this.multiple){if(ce(this.d_value)&&!this.$refs.focusInput.value){var n=this.d_value[this.d_value.length-1],a=this.d_value.slice(0,-1);this.writeValue(a,e),this.$emit("item-unselect",{originalEvent:e,value:n}),this.$emit("option-unselect",{originalEvent:e,value:n})}e.stopPropagation()}},onArrowLeftKeyOnMultiple:function(){this.focusedMultipleOptionIndex=this.focusedMultipleOptionIndex<1?0:this.focusedMultipleOptionIndex-1},onArrowRightKeyOnMultiple:function(){this.focusedMultipleOptionIndex++,this.focusedMultipleOptionIndex>this.d_value.length-1&&(this.focusedMultipleOptionIndex=-1,N(this.$refs.focusInput))},onBackspaceKeyOnMultiple:function(e){this.focusedMultipleOptionIndex!==-1&&this.removeOption(e,this.focusedMultipleOptionIndex)},onOverlayEnter:function(e){be.set("overlay",e,this.$primevue.config.zIndex.overlay),tt(e,{position:"absolute",top:"0",left:"0"}),this.alignOverlay()},onOverlayAfterEnter:function(){this.bindOutsideClickListener(),this.bindScrollListener(),this.bindResizeListener(),this.$emit("show")},onOverlayLeave:function(){this.unbindOutsideClickListener(),this.unbindScrollListener(),this.unbindResizeListener(),this.$emit("hide"),this.overlay=null},onOverlayAfterLeave:function(e){be.clear(e)},alignOverlay:function(){var e=this.multiple?this.$refs.multiContainer:this.$refs.focusInput.$el;this.appendTo==="self"?Qe(this.overlay,e):(this.overlay.style.minWidth=Ye(e)+"px",et(this.overlay,e))},bindOutsideClickListener:function(){var e=this;this.outsideClickListener||(this.outsideClickListener=function(n){e.overlayVisible&&e.overlay&&e.isOutsideClicked(n)&&e.hide()},document.addEventListener("click",this.outsideClickListener))},unbindOutsideClickListener:function(){this.outsideClickListener&&(document.removeEventListener("click",this.outsideClickListener),this.outsideClickListener=null)},bindScrollListener:function(){var e=this;this.scrollHandler||(this.scrollHandler=new ht(this.$refs.container,function(){e.overlayVisible&&e.hide()})),this.scrollHandler.bindScrollListener()},unbindScrollListener:function(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()},bindResizeListener:function(){var e=this;this.resizeListener||(this.resizeListener=function(){e.overlayVisible&&!Je()&&e.hide()},window.addEventListener("resize",this.resizeListener))},unbindResizeListener:function(){this.resizeListener&&(window.removeEventListener("resize",this.resizeListener),this.resizeListener=null)},isOutsideClicked:function(e){return!this.overlay.contains(e.target)&&!this.isInputClicked(e)&&!this.isDropdownClicked(e)},isInputClicked:function(e){return this.multiple?e.target===this.$refs.multiContainer||this.$refs.multiContainer.contains(e.target):e.target===this.$refs.focusInput.$el},isDropdownClicked:function(e){return this.$refs.dropdownButton?e.target===this.$refs.dropdownButton||this.$refs.dropdownButton.contains(e.target):!1},isOptionMatched:function(e,n){var a;return this.isValidOption(e)&&((a=this.getOptionLabel(e))===null||a===void 0?void 0:a.toLocaleLowerCase(this.searchLocale))===n.toLocaleLowerCase(this.searchLocale)},isValidOption:function(e){return ce(e)&&!(this.isOptionDisabled(e)||this.isOptionGroup(e))},isValidSelectedOption:function(e){return this.isValidOption(e)&&this.isSelected(e)},isEquals:function(e,n){return Ze(e,n,this.equalityKey)},isSelected:function(e){var n=this,a=this.getOptionValue(e);return this.multiple?(this.d_value||[]).some(function(u){return n.isEquals(u,a)}):this.isEquals(this.d_value,this.getOptionValue(e))},findFirstOptionIndex:function(){var e=this;return this.visibleOptions.findIndex(function(n){return e.isValidOption(n)})},findLastOptionIndex:function(){var e=this;return Ce(this.visibleOptions,function(n){return e.isValidOption(n)})},findNextOptionIndex:function(e){var n=this,a=e<this.visibleOptions.length-1?this.visibleOptions.slice(e+1).findIndex(function(u){return n.isValidOption(u)}):-1;return a>-1?a+e+1:e},findPrevOptionIndex:function(e){var n=this,a=e>0?Ce(this.visibleOptions.slice(0,e),function(u){return n.isValidOption(u)}):-1;return a>-1?a:e},findSelectedOptionIndex:function(){var e=this;return this.$filled?this.visibleOptions.findIndex(function(n){return e.isValidSelectedOption(n)}):-1},findFirstFocusedOptionIndex:function(){var e=this.findSelectedOptionIndex();return e<0?this.findFirstOptionIndex():e},findLastFocusedOptionIndex:function(){var e=this.findSelectedOptionIndex();return e<0?this.findLastOptionIndex():e},search:function(e,n,a){n!=null&&(a==="input"&&n.trim().length===0||(this.searching=!0,this.$emit("complete",{originalEvent:e,query:n})))},removeOption:function(e,n){var a=this,u=this.d_value[n],l=this.d_value.filter(function(y,w){return w!==n}).map(function(y){return a.getOptionValue(y)});this.updateModel(e,l),this.$emit("item-unselect",{originalEvent:e,value:u}),this.$emit("option-unselect",{originalEvent:e,value:u}),this.dirty=!0,N(this.multiple?this.$refs.focusInput:this.$refs.focusInput.$el)},changeFocusedOptionIndex:function(e,n){this.focusedOptionIndex!==n&&(this.focusedOptionIndex=n,this.scrollInView(),this.selectOnFocus&&this.onOptionSelect(e,this.visibleOptions[n],!1))},scrollInView:function(){var e=this,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:-1;this.$nextTick(function(){var a=n!==-1?"".concat(e.id,"_").concat(n):e.focusedOptionId,u=Xe(e.list,'li[id="'.concat(a,'"]'));u?u.scrollIntoView&&u.scrollIntoView({block:"nearest",inline:"start"}):e.virtualScrollerDisabled||e.virtualScroller&&e.virtualScroller.scrollToIndex(n!==-1?n:e.focusedOptionIndex)})},autoUpdateModel:function(){this.selectOnFocus&&this.autoOptionFocus&&!this.$filled&&(this.focusedOptionIndex=this.findFirstFocusedOptionIndex(),this.onOptionSelect(null,this.visibleOptions[this.focusedOptionIndex],!1))},updateModel:function(e,n){this.writeValue(n,e),this.$emit("change",{originalEvent:e,value:n})},flatOptions:function(e){var n=this;return(e||[]).reduce(function(a,u,l){a.push({optionGroup:u,group:!0,index:l});var y=n.getOptionGroupChildren(u);return y&&y.forEach(function(w){return a.push(w)}),a},[])},overlayRef:function(e){this.overlay=e},listRef:function(e,n){this.list=e,n&&n(e)},virtualScrollerRef:function(e){this.virtualScroller=e}},computed:{visibleOptions:function(){return this.optionGroupLabel?this.flatOptions(this.suggestions):this.suggestions||[]},inputValue:function(){if(this.$filled)if(ge(this.d_value)==="object"){var e=this.getOptionLabel(this.d_value);return e??this.d_value}else return this.d_value;else return""},hasSelectedOption:function(){return this.$filled},equalityKey:function(){return this.dataKey},searchResultMessageText:function(){return ce(this.visibleOptions)&&this.overlayVisible?this.searchMessageText.replaceAll("{0}",this.visibleOptions.length):this.emptySearchMessageText},searchMessageText:function(){return this.searchMessage||this.$primevue.config.locale.searchMessage||""},emptySearchMessageText:function(){return this.emptySearchMessage||this.$primevue.config.locale.emptySearchMessage||""},selectionMessageText:function(){return this.selectionMessage||this.$primevue.config.locale.selectionMessage||""},emptySelectionMessageText:function(){return this.emptySelectionMessage||this.$primevue.config.locale.emptySelectionMessage||""},selectedMessageText:function(){return this.$filled?this.selectionMessageText.replaceAll("{0}",this.multiple?this.d_value.length:"1"):this.emptySelectionMessageText},listAriaLabel:function(){return this.$primevue.config.locale.aria?this.$primevue.config.locale.aria.listLabel:void 0},focusedOptionId:function(){return this.focusedOptionIndex!==-1?"".concat(this.id,"_").concat(this.focusedOptionIndex):null},focusedMultipleOptionId:function(){return this.focusedMultipleOptionIndex!==-1?"".concat(this.id,"_multiple_option_").concat(this.focusedMultipleOptionIndex):null},ariaSetSize:function(){var e=this;return this.visibleOptions.filter(function(n){return!e.isOptionGroup(n)}).length},virtualScrollerDisabled:function(){return!this.virtualScrollerOptions},panelId:function(){return this.id+"_panel"}},components:{InputText:j,VirtualScroller:Ot,Portal:mt,ChevronDownIcon:bt,SpinnerIcon:gt,Chip:xt},directives:{ripple:yt}};function ue(t){"@babel/helpers - typeof";return ue=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ue(t)}function De(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(u){return Object.getOwnPropertyDescriptor(t,u).enumerable})),n.push.apply(n,a)}return n}function Ke(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?De(Object(n),!0).forEach(function(a){At(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):De(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}function At(t,e,n){return(e=Ft(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ft(t){var e=Pt(t,"string");return ue(e)=="symbol"?e:e+""}function Pt(t,e){if(ue(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var a=n.call(t,e);if(ue(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Tt=["aria-activedescendant"],Et=["id","aria-label","aria-setsize","aria-posinset"],jt=["id","placeholder","tabindex","disabled","aria-label","aria-labelledby","aria-expanded","aria-controls","aria-activedescendant","aria-invalid"],Bt=["disabled","aria-expanded","aria-controls"],Ut=["id"],Rt=["id","aria-label"],$t=["id"],zt=["id","aria-label","aria-selected","aria-disabled","aria-setsize","aria-posinset","onClick","onMousemove","data-p-selected","data-p-focus","data-p-disabled"];function Gt(t,e,n,a,u,l){var y=le("InputText"),w=le("Chip"),R=le("SpinnerIcon"),$=le("VirtualScroller"),H=le("Portal"),c=ot("ripple");return m(),b("div",O({ref:"container",class:t.cx("root"),style:t.sx("root"),onClick:e[11]||(e[11]=function(){return l.onContainerClick&&l.onContainerClick.apply(l,arguments)})},t.ptmi("root")),[t.multiple?C("",!0):(m(),Z(y,{key:0,ref:"focusInput",id:t.inputId,type:"text",name:t.$formName,class:se([t.cx("pcInputText"),t.inputClass]),style:it(t.inputStyle),value:l.inputValue,placeholder:t.placeholder,tabindex:t.disabled?-1:t.tabindex,fluid:t.$fluid,disabled:t.disabled,size:t.size,invalid:t.invalid,variant:t.variant,autocomplete:"off",role:"combobox","aria-label":t.ariaLabel,"aria-labelledby":t.ariaLabelledby,"aria-haspopup":"listbox","aria-autocomplete":"list","aria-expanded":u.overlayVisible,"aria-controls":l.panelId,"aria-activedescendant":u.focused?l.focusedOptionId:void 0,onFocus:l.onFocus,onBlur:l.onBlur,onKeydown:l.onKeyDown,onInput:l.onInput,onChange:l.onChange,unstyled:t.unstyled,pt:t.ptm("pcInputText")},null,8,["id","name","class","style","value","placeholder","tabindex","fluid","disabled","size","invalid","variant","aria-label","aria-labelledby","aria-expanded","aria-controls","aria-activedescendant","onFocus","onBlur","onKeydown","onInput","onChange","unstyled","pt"])),t.multiple?(m(),b("ul",O({key:1,ref:"multiContainer",class:t.cx("inputMultiple"),tabindex:"-1",role:"listbox","aria-orientation":"horizontal","aria-activedescendant":u.focused?l.focusedMultipleOptionId:void 0,onFocus:e[5]||(e[5]=function(){return l.onMultipleContainerFocus&&l.onMultipleContainerFocus.apply(l,arguments)}),onBlur:e[6]||(e[6]=function(){return l.onMultipleContainerBlur&&l.onMultipleContainerBlur.apply(l,arguments)}),onKeydown:e[7]||(e[7]=function(){return l.onMultipleContainerKeyDown&&l.onMultipleContainerKeyDown.apply(l,arguments)})},t.ptm("inputMultiple")),[(m(!0),b(J,null,ae(t.d_value,function(h,I){return m(),b("li",O({key:"".concat(I,"_").concat(l.getOptionLabel(h)),id:u.id+"_multiple_option_"+I,class:t.cx("chipItem",{i:I}),role:"option","aria-label":l.getOptionLabel(h),"aria-selected":!0,"aria-setsize":t.d_value.length,"aria-posinset":I+1,ref_for:!0},t.ptm("chipItem")),[P(t.$slots,"chip",O({class:t.cx("pcChip"),value:h,index:I,removeCallback:function(k){return l.removeOption(k,I)},ref_for:!0},t.ptm("pcChip")),function(){return[p(w,{class:se(t.cx("pcChip")),label:l.getOptionLabel(h),removeIcon:t.chipIcon||t.removeTokenIcon,removable:"",unstyled:t.unstyled,onRemove:function(k){return l.removeOption(k,I)},pt:t.ptm("pcChip")},{removeicon:A(function(){return[P(t.$slots,t.$slots.chipicon?"chipicon":"removetokenicon",{class:se(t.cx("chipIcon")),index:I,removeCallback:function(k){return l.removeOption(k,I)}})]}),_:2},1032,["class","label","removeIcon","unstyled","onRemove","pt"])]})],16,Et)}),128)),i("li",O({class:t.cx("inputChip"),role:"option"},t.ptm("inputChip")),[i("input",O({ref:"focusInput",id:t.inputId,type:"text",style:t.inputStyle,class:t.inputClass,placeholder:t.placeholder,tabindex:t.disabled?-1:t.tabindex,disabled:t.disabled,autocomplete:"off",role:"combobox","aria-label":t.ariaLabel,"aria-labelledby":t.ariaLabelledby,"aria-haspopup":"listbox","aria-autocomplete":"list","aria-expanded":u.overlayVisible,"aria-controls":u.id+"_list","aria-activedescendant":u.focused?l.focusedOptionId:void 0,"aria-invalid":t.invalid||void 0,onFocus:e[0]||(e[0]=function(){return l.onFocus&&l.onFocus.apply(l,arguments)}),onBlur:e[1]||(e[1]=function(){return l.onBlur&&l.onBlur.apply(l,arguments)}),onKeydown:e[2]||(e[2]=function(){return l.onKeyDown&&l.onKeyDown.apply(l,arguments)}),onInput:e[3]||(e[3]=function(){return l.onInput&&l.onInput.apply(l,arguments)}),onChange:e[4]||(e[4]=function(){return l.onChange&&l.onChange.apply(l,arguments)})},t.ptm("input")),null,16,jt)],16)],16,Tt)):C("",!0),u.searching||t.loading?P(t.$slots,t.$slots.loader?"loader":"loadingicon",{key:2,class:se(t.cx("loader"))},function(){return[t.loader||t.loadingIcon?(m(),b("i",O({key:0,class:["pi-spin",t.cx("loader"),t.loader,t.loadingIcon],"aria-hidden":"true"},t.ptm("loader")),null,16)):(m(),Z(R,O({key:1,class:t.cx("loader"),spin:"","aria-hidden":"true"},t.ptm("loader")),null,16,["class"]))]}):C("",!0),P(t.$slots,t.$slots.dropdown?"dropdown":"dropdownbutton",{toggleCallback:function(I){return l.onDropdownClick(I)}},function(){return[t.dropdown?(m(),b("button",O({key:0,ref:"dropdownButton",type:"button",class:[t.cx("dropdown"),t.dropdownClass],disabled:t.disabled,"aria-haspopup":"listbox","aria-expanded":u.overlayVisible,"aria-controls":l.panelId,onClick:e[8]||(e[8]=function(){return l.onDropdownClick&&l.onDropdownClick.apply(l,arguments)})},t.ptm("dropdown")),[P(t.$slots,"dropdownicon",{class:se(t.dropdownIcon)},function(){return[(m(),Z(lt(t.dropdownIcon?"span":"ChevronDownIcon"),O({class:t.dropdownIcon},t.ptm("dropdownIcon")),null,16,["class"]))]})],16,Bt)):C("",!0)]}),i("span",O({role:"status","aria-live":"polite",class:"p-hidden-accessible"},t.ptm("hiddenSearchResult"),{"data-p-hidden-accessible":!0}),v(l.searchResultMessageText),17),p(H,{appendTo:t.appendTo},{default:A(function(){return[p(st,O({name:"p-connected-overlay",onEnter:l.onOverlayEnter,onAfterEnter:l.onOverlayAfterEnter,onLeave:l.onOverlayLeave,onAfterLeave:l.onOverlayAfterLeave},t.ptm("transition")),{default:A(function(){return[u.overlayVisible?(m(),b("div",O({key:0,ref:l.overlayRef,id:l.panelId,class:[t.cx("overlay"),t.panelClass,t.overlayClass],style:Ke(Ke({},t.panelStyle),t.overlayStyle),onClick:e[9]||(e[9]=function(){return l.onOverlayClick&&l.onOverlayClick.apply(l,arguments)}),onKeydown:e[10]||(e[10]=function(){return l.onOverlayKeyDown&&l.onOverlayKeyDown.apply(l,arguments)})},t.ptm("overlay")),[P(t.$slots,"header",{value:t.d_value,suggestions:l.visibleOptions}),i("div",O({class:t.cx("listContainer"),style:{"max-height":l.virtualScrollerDisabled?t.scrollHeight:""}},t.ptm("listContainer")),[p($,O({ref:l.virtualScrollerRef},t.virtualScrollerOptions,{style:{height:t.scrollHeight},items:l.visibleOptions,tabindex:-1,disabled:l.virtualScrollerDisabled,pt:t.ptm("virtualScroller")}),at({content:A(function(h){var I=h.styleClass,g=h.contentRef,k=h.items,V=h.getItemOptions,K=h.contentStyle,F=h.itemSize;return[i("ul",O({ref:function(L){return l.listRef(L,g)},id:u.id+"_list",class:[t.cx("list"),I],style:K,role:"listbox","aria-label":l.listAriaLabel},t.ptm("list")),[(m(!0),b(J,null,ae(k,function(x,L){return m(),b(J,{key:l.getOptionRenderKey(x,l.getOptionIndex(L,V))},[l.isOptionGroup(x)?(m(),b("li",O({key:0,id:u.id+"_"+l.getOptionIndex(L,V),style:{height:F?F+"px":void 0},class:t.cx("optionGroup"),role:"option",ref_for:!0},t.ptm("optionGroup")),[P(t.$slots,"optiongroup",{option:x.optionGroup,index:l.getOptionIndex(L,V)},function(){return[q(v(l.getOptionGroupLabel(x.optionGroup)),1)]})],16,$t)):rt((m(),b("li",O({key:1,id:u.id+"_"+l.getOptionIndex(L,V),style:{height:F?F+"px":void 0},class:t.cx("option",{option:x,i:L,getItemOptions:V}),role:"option","aria-label":l.getOptionLabel(x),"aria-selected":l.isSelected(x),"aria-disabled":l.isOptionDisabled(x),"aria-setsize":l.ariaSetSize,"aria-posinset":l.getAriaPosInset(l.getOptionIndex(L,V)),onClick:function(T){return l.onOptionSelect(T,x)},onMousemove:function(T){return l.onOptionMouseMove(T,l.getOptionIndex(L,V))},"data-p-selected":l.isSelected(x),"data-p-focus":u.focusedOptionIndex===l.getOptionIndex(L,V),"data-p-disabled":l.isOptionDisabled(x),ref_for:!0},l.getPTOptions(x,V,L,"option")),[P(t.$slots,"option",{option:x,index:l.getOptionIndex(L,V)},function(){return[q(v(l.getOptionLabel(x)),1)]})],16,zt)),[[c]])],64)}),128)),t.showEmptyMessage&&(!k||k&&k.length===0)?(m(),b("li",O({key:0,class:t.cx("emptyMessage"),role:"option"},t.ptm("emptyMessage")),[P(t.$slots,"empty",{},function(){return[q(v(l.searchResultMessageText),1)]})],16)):C("",!0)],16,Rt)]}),_:2},[t.$slots.loader?{name:"loader",fn:A(function(h){var I=h.options;return[P(t.$slots,"loader",{options:I})]}),key:"0"}:void 0]),1040,["style","items","disabled","pt"])],16),P(t.$slots,"footer",{value:t.d_value,suggestions:l.visibleOptions}),i("span",O({role:"status","aria-live":"polite",class:"p-hidden-accessible"},t.ptm("hiddenSelectedMessage"),{"data-p-hidden-accessible":!0}),v(l.selectedMessageText),17)],16,Ut)):C("",!0)]}),_:3},16,["onEnter","onAfterEnter","onLeave","onAfterLeave"])]}),_:3},8,["appendTo"])],16)}Pe.render=Gt;const Nt={class:"flex items-center gap-2"},qt={class:"space-y-3"},Ht={class:"flex justify-end gap-2 pt-2"},Wt={class:"space-y-3"},Xt={class:"flex justify-end gap-2 pt-2"},Zt={__name:"SessionBar",props:{currentSession:{type:Object,default:null},branches:{type:Array,default:()=>[]},warehouses:{type:Array,default:()=>[]}},setup(t){const e=Ae(),n=Fe(),a=D(()=>n.props.currentSession),u=S(!1),l=S(!1),y=S({branch_id:null,warehouse_id:null,opening_cash:0,note:""}),w=S({closing_cash:0,note:""});function R(){W.post(route("pos.session.open"),y.value,{preserveScroll:!0,onSuccess:()=>{e.add({severity:"success",summary:"Opened",detail:"POS session opened",life:2e3}),u.value=!1,W.reload({only:["currentSession"]})},onError:()=>{e.add({severity:"error",summary:"Error",detail:"Failed to open session",life:2500})}})}function $(){W.post(route("pos.session.close"),w.value,{preserveScroll:!0,onSuccess:()=>{e.add({severity:"success",summary:"Closed",detail:"POS session closed",life:2e3}),l.value=!1,W.reload({only:["currentSession"]})},onError:()=>{e.add({severity:"error",summary:"Error",detail:"Failed to close session",life:2500})}})}return(H,c)=>(m(),b("div",Nt,[a.value?(m(),Z(f(M),{key:1,label:"Close POS Session",icon:"pi pi-stop",class:"p-button-danger",onClick:c[1]||(c[1]=h=>l.value=!0)})):(m(),Z(f(M),{key:0,label:"Open POS Session",icon:"pi pi-play",onClick:c[0]||(c[0]=h=>u.value=!0)})),p(f(ye),{visible:u.value,"onUpdate:visible":c[7]||(c[7]=h=>u.value=h),modal:"",header:"Open POS Session",style:{width:"420px"}},{default:A(()=>[i("div",qt,[i("div",null,[c[12]||(c[12]=i("label",{class:"text-sm font-medium"},"Branch *",-1)),p(f(re),{modelValue:y.value.branch_id,"onUpdate:modelValue":c[2]||(c[2]=h=>y.value.branch_id=h),options:t.branches,optionLabel:"name",optionValue:"id",class:"w-full"},null,8,["modelValue","options"])]),i("div",null,[c[13]||(c[13]=i("label",{class:"text-sm font-medium"},"Warehouse *",-1)),p(f(re),{modelValue:y.value.warehouse_id,"onUpdate:modelValue":c[3]||(c[3]=h=>y.value.warehouse_id=h),options:t.warehouses,optionLabel:"name",optionValue:"id",class:"w-full"},null,8,["modelValue","options"])]),i("div",null,[c[14]||(c[14]=i("label",{class:"text-sm font-medium"},"Opening Cash",-1)),p(f(X),{modelValue:y.value.opening_cash,"onUpdate:modelValue":c[4]||(c[4]=h=>y.value.opening_cash=h),class:"w-full",min:0},null,8,["modelValue"])]),i("div",null,[c[15]||(c[15]=i("label",{class:"text-sm font-medium"},"Note",-1)),p(f(j),{modelValue:y.value.note,"onUpdate:modelValue":c[5]||(c[5]=h=>y.value.note=h),class:"w-full"},null,8,["modelValue"])]),i("div",Ht,[p(f(M),{label:"Cancel",class:"p-button-text",onClick:c[6]||(c[6]=h=>u.value=!1)}),p(f(M),{label:"Open",icon:"pi pi-check",onClick:R})])])]),_:1},8,["visible"]),p(f(ye),{visible:l.value,"onUpdate:visible":c[11]||(c[11]=h=>l.value=h),modal:"",header:"Close POS Session",style:{width:"420px"}},{default:A(()=>[i("div",Wt,[c[18]||(c[18]=i("div",{class:"text-sm text-slate-600"}," Closing session will stop sales until you open a new session. ",-1)),i("div",null,[c[16]||(c[16]=i("label",{class:"text-sm font-medium"},"Closing Cash",-1)),p(f(X),{modelValue:w.value.closing_cash,"onUpdate:modelValue":c[8]||(c[8]=h=>w.value.closing_cash=h),class:"w-full",min:0},null,8,["modelValue"])]),i("div",null,[c[17]||(c[17]=i("label",{class:"text-sm font-medium"},"Note",-1)),p(f(j),{modelValue:w.value.note,"onUpdate:modelValue":c[9]||(c[9]=h=>w.value.note=h),class:"w-full"},null,8,["modelValue"])]),i("div",Xt,[p(f(M),{label:"Cancel",class:"p-button-text",onClick:c[10]||(c[10]=h=>l.value=!1)}),p(f(M),{label:"Close",icon:"pi pi-check",class:"p-button-danger",onClick:$})])])]),_:1},8,["visible"])]))}},Jt={class:"h-[95vh] flex overflow-y-auto"},Qt={class:"flex-1 flex flex-col overflow-hidden bg-white rounded-2xl shadow-sm border border-slate-100 p-4"},Yt={class:"h-16 bg-white border-b border-slate-200 flex items-center justify-between px-6"},en={class:"text-xs text-slate-400"},tn={class:"flex items-center gap-3 text-xs text-slate-500"},nn={class:"flex items-center justify-between mb-3"},on={class:"px-3 py-1 rounded-full text-lg mb-3 bg-emerald-50 text-emerald-600 flex items-center gap-2"},ln={class:"flex-1 flex overflow-hidden"},sn={class:"flex-1 p-5 overflow-y-auto"},an={class:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-3 mb-4"},rn={class:"flex items-center gap-3"},un={class:"grid gap-4 grid-cols-2 md:grid-cols-3 lg:grid-cols-4"},dn=["onClick"],cn={class:"relative rounded-xl bg-white mb-3 h-28 flex items-center justify-center overflow-hidden"},pn={key:0,class:"text-slate-300 text-xs uppercase tracking-wide"},fn=["src"],mn={class:"absolute top-2 left-2"},hn={key:2,class:"absolute top-2 right-2 bg-rose-600 text-white text-[11px] font-semibold px-2 py-1 rounded-full"},vn={class:"flex-1 flex flex-col justify-between gap-2"},bn={class:"text-sm font-semibold text-slate-800 truncate"},yn={class:"text-xs text-slate-400 mt-0.5 truncate"},gn={class:"flex items-end justify-between mt-1 gap-2"},xn={class:"min-w-0"},On={class:"text-base font-bold text-emerald-600"},wn={key:0,class:"text-xs text-slate-400 flex items-center gap-2"},kn={class:"line-through"},In={class:"text-rose-600 font-semibold"},_n={key:0,class:"col-12 text-center text-slate-400 text-sm py-10"},Sn={class:"w-full lg:w-80 xl:w-96 bg-slate-50 border-l border-slate-200 p-4 flex flex-col overflow-y-auto"},Cn={class:"flex flex-col flex-1"},Vn={class:"flex items-center justify-between mb-3 pb-3 border-b border-slate-100"},Ln={class:"text-xs text-slate-400"},Mn={class:"px-2.5 py-1 rounded-full text-xs bg-emerald-50 text-emerald-600 font-medium"},Dn={class:"mb-4"},Kn={class:"flex flex-col"},An={class:"font-medium"},Fn={class:"text-xs text-slate-500"},Pn={class:"flex-1 overflow-y-auto space-y-3 pr-1 mb-3"},Tn={class:"flex-1"},En={class:"text-xs font-semibold text-slate-800"},jn={class:"text-[11px] text-slate-400 mb-1"},Bn={class:"text-[11px] text-slate-500 mb-1"},Un={class:"font-semibold text-slate-700"},Rn={key:0,class:"ml-2 text-rose-600"},$n={class:"flex items-center gap-2"},zn={class:"text-[11px] text-slate-400"},Gn={class:"text-right ml-2"},Nn={class:"text-xs font-semibold text-slate-800"},qn={key:0,class:"text-center text-xs text-slate-400 py-6"},Hn={class:"mb-3 p-3 rounded-2xl bg-white border border-slate-200"},Wn={class:"flex items-center justify-between mb-2"},Xn={key:0,class:"text-sm font-semibold text-rose-600"},Zn={class:"flex items-center gap-2 mb-1 min-w-0"},Jn={class:"border-t border-slate-200 pt-3 space-y-1"},Qn={class:"flex items-center justify-between text-xs text-slate-500"},Yn={class:"font-medium text-slate-700"},eo={class:"flex items-center justify-between text-xs text-slate-500"},to={class:"font-medium text-rose-600"},no={class:"flex items-center justify-between text-xs text-slate-500"},oo={class:"font-medium text-slate-700"},io={class:"flex items-center justify-between text-sm mt-2"},lo={class:"text-lg font-bold text-emerald-600"},so={class:"mt-3 space-y-2"},ao={class:"flex items-center justify-between"},ro={class:"space-y-3 max-h-72 overflow-y-auto pr-1"},uo={class:"flex items-center gap-2"},co={class:"grid grid-cols-1 gap-2 mt-2"},po={key:0,class:"mt-3 p-3 rounded-xl bg-slate-50 border border-slate-200"},fo={class:"grid grid-cols-1 gap-2"},mo={class:"flex items-center justify-between text-xs text-slate-500 mt-1"},ho={class:"font-semibold text-slate-800"},vo={class:"flex items-center justify-between text-xs text-slate-500"},bo={class:"font-semibold text-slate-800"},yo={class:"flex items-center justify-between text-xs text-slate-500"},go={class:"font-semibold text-rose-600"},xo={class:"grid grid-cols-1 gap-2 mt-4"},Oo={key:0,class:"space-y-3"},wo={class:"text-sm font-semibold text-slate-800"},ko={key:0,class:"p-3 rounded-xl border border-slate-200 bg-slate-50"},Io={class:"flex items-end gap-2"},_o={class:"text-lg font-bold text-emerald-600"},So={key:0,class:"text-sm text-slate-400 line-through"},Co={key:1,class:"text-xs text-rose-600 font-semibold"},Vo={class:"flex justify-end gap-2 pt-2"},Jo={__name:"Index",props:{products:{type:Array,default:()=>[]},customers:{type:Array,default:()=>[]},paymentMethods:{type:Array,default:()=>[]},currentSession:{type:Object,default:null},warehouses:{type:Array,default:()=>[]},branches:{type:Array,default:()=>[]}},setup(t){const e=t,n=Ae();Fe();const a=S(e.currentSession),u=S(new Date);let l=null;ut(()=>{l=setInterval(()=>u.value=new Date,1e3)}),dt(()=>{l&&clearInterval(l)});const y=S(""),w=S(null),R=S([]),$=S(!1);let H=null,c=null;function h(r){const o=(r.query||"").trim();if(!o){R.value=[];return}H&&clearTimeout(H),H=setTimeout(()=>{I(o)},300)}Ve(w,r=>console.log("selectedCustomer =",r));async function I(r){try{$.value=!0,c&&c.abort(),c=new AbortController;const o=route("pos.customers.search",{q:r}),s=await fetch(o,{method:"GET",headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"},signal:c.signal});if(!s.ok)throw new Error("Customer search failed");const _=await s.json();R.value=Array.isArray(_)?_:_.data||[]}catch(o){if(String(o==null?void 0:o.name)==="AbortError")return;n.add({severity:"warn",summary:"Search error",detail:"Could not load customers",life:2e3})}finally{$.value=!1}}const g=S([]),k=S("none"),V=S(0),K=r=>Number(r||0),F=r=>K(r.base_price),x=r=>{const o=F(r),s=K(r.base_discount_price);return s>0&&s<o?s:null},L=r=>{const o=F(r),s=x(r);return!s||o<=0?0:Math.round((o-s)/o*100)},B=r=>K(r.price),T=r=>{const o=B(r),s=K(r.discount_price);return s>0&&s<o?s:null},Te=r=>{const o=B(r),s=T(r);return!s||o<=0?0:Math.round((o-s)/o*100)},Oe=D(()=>{let r=e.products||[];if(!y.value)return r;const o=y.value.toLowerCase();return r.filter(s=>s.name&&s.name.toLowerCase().includes(o)||s.sku&&s.sku.toLowerCase().includes(o)||s.barcode&&s.barcode.toLowerCase().includes(o))}),Q=S(!1),z=S(null),G=S(null),Ee=D(()=>{const r=z.value;return r?(r.variations||[]).map(o=>({label:o.sku||`Variation #${o.id}`,value:o.id,raw:o})):[]}),U=D(()=>{const r=z.value;return!r||!G.value?null:(r.variations||[]).find(o=>o.id===G.value)});function we(){return a.value?!0:(n.add({severity:"warn",summary:"No session",detail:"Please open POS session first",life:2500}),!1)}function je(r){if(we()){if(r.type==="variable"){z.value=r,G.value=null,Q.value=!0;return}Be(r)}}function Be(r){const o=x(r)??F(r),s=g.value.find(_=>_.product_id===r.id&&!_.variation_id);if(s){s.quantity+=1;return}g.value.push({product_id:r.id,variation_id:null,name:r.name,sku:r.sku,unit_price:F(r),discount_price:x(r),sell_price:o,quantity:1,line_discount_amount:0,tax_amount:0})}function Ue(){const r=z.value,o=U.value;if(!r||!o){n.add({severity:"warn",summary:"Select variation",detail:"Please select a variation first",life:2e3});return}const s=T(o)??B(o),_=g.value.find(d=>d.product_id===r.id&&d.variation_id===o.id);_?_.quantity+=1:g.value.push({product_id:r.id,variation_id:o.id,name:`${r.name} (${o.sku})`,sku:o.sku||r.sku,unit_price:B(o),discount_price:T(o),sell_price:s,quantity:1,line_discount_amount:0,tax_amount:0}),Q.value=!1,z.value=null,G.value=null}function Re(r){g.value.splice(r,1)}const pe=D(()=>g.value.reduce((r,o)=>{const s=K(o.sell_price||o.unit_price);return r+s*K(o.quantity)},0)),$e=D(()=>g.value.reduce((r,o)=>r+K(o.line_discount_amount),0)),fe=D(()=>{const r=pe.value,o=K(V.value);if(k.value==="percent"){const s=Math.min(Math.max(o,0),100);return r*s/100}return k.value==="fixed"?Math.min(Math.max(o,0),r):0}),ke=D(()=>$e.value+fe.value),Ie=D(()=>g.value.reduce((r,o)=>r+K(o.tax_amount),0)),de=D(()=>pe.value-ke.value+Ie.value);let me=1;const E=S([{id:me++,payment_method_id:null,amount:0,transaction_ref:null,notes:null,meta:{customer_bank_name:null,customer_account_no:null,received_to_bank_account_id:null,txn_ref:null}}]);function _e(){return{id:me++,payment_method_id:null,amount:0,transaction_ref:null,notes:null,meta:{customer_bank_name:null,customer_account_no:null,received_to_bank_account_id:null,txn_ref:null}}}function ze(){E.value.push(_e())}function Ge(r){if(E.value.length===1){E.value=[_e()];return}E.value.splice(r,1)}const Y=D(()=>E.value.reduce((r,o)=>r+K(o.amount),0)),Se=D(()=>Math.max(0,de.value-Y.value)),Ne=D(()=>Math.max(0,Y.value-de.value)),qe=D(()=>(e.paymentMethods||[]).filter(o=>(o.name||"").toLowerCase().includes("bank")).map(o=>o.id));function he(r){return r!=null&&r.payment_method_id?qe.value.includes(r.payment_method_id):!1}Ve(()=>E.value.map(r=>r.payment_method_id),()=>{E.value.forEach(r=>{he(r)||(r.meta=null)})});function ve(r="complete"){var _;if(!we())return;if(!g.value.length){n.add({severity:"warn",summary:"Empty cart",detail:"Add items first",life:2e3});return}const o=E.value.filter(d=>d.payment_method_id&&K(d.amount)>0);if(r!=="draft"){if(!o.length){n.add({severity:"warn",summary:"Payment required",detail:"Add at least one payment",life:2200});return}if(Y.value<=0){n.add({severity:"warn",summary:"Payment required",detail:"Payment must be greater than 0",life:2200});return}}const s={action:r,pos_session_id:a.value.id,branch_id:a.value.branch_id,warehouse_id:a.value.warehouse_id,customer_id:((_=w.value)==null?void 0:_.id)??null,items:g.value.map(d=>({product_id:d.product_id,variation_id:d.variation_id,quantity:d.quantity,unit_price:d.sell_price,discount_amount:d.line_discount_amount||0,tax_amount:d.tax_amount||0})),payments:r==="draft"?[]:o.map(d=>{var ee,te,ne,oe;return{payment_method_id:d.payment_method_id,amount:d.amount,transaction_ref:d.transaction_ref||null,notes:d.notes||null,meta:he(d)?{customer_bank_name:((ee=d.meta)==null?void 0:ee.customer_bank_name)||null,customer_account_no:((te=d.meta)==null?void 0:te.customer_account_no)||null,received_to_bank_account_id:((ne=d.meta)==null?void 0:ne.received_to_bank_account_id)||null,txn_ref:((oe=d.meta)==null?void 0:oe.txn_ref)||null}:null}}),order_discount_type:k.value,order_discount_value:V.value,total_amount:de.value,paid_amount:Y.value,due_amount:Se.value,notes:null};W.post(route("pos.orders.store"),s,{preserveScroll:!0,onSuccess:d=>{var ee,te,ne;if(n.add({severity:"success",summary:"Success",detail:"Order saved",life:2e3}),console.log(d),console.log(r,(ee=d.props.flash)==null?void 0:ee.order_id),r==="complete_print"){const oe=(ne=(te=d==null?void 0:d.props)==null?void 0:te.flash)==null?void 0:ne.order_id;oe&&W.visit(route("pos.orders.invoice",oe))}g.value=[],w.value=null,k.value="none",V.value=0,E.value=[{id:me++,payment_method_id:null,amount:0}]}})}return(r,o)=>(m(),Z(He,null,{default:A(()=>[i("div",Jt,[i("main",Qt,[i("header",Yt,[i("div",null,[o[10]||(o[10]=i("h1",{class:"text-lg font-semibold text-slate-800"}," Point of Sale ",-1)),i("p",en,v(a.value?`Active Session #${a.value.id}`:"No active session"),1)]),i("div",tn,[i("div",nn,[p(Zt,{currentSession:e.currentSession,branches:e.branches,warehouses:e.warehouses},null,8,["currentSession","branches","warehouses"])]),i("span",on,[o[11]||(o[11]=i("i",{class:"pi pi-clock text-4xl"},null,-1)),q(" "+v(u.value.toLocaleTimeString()),1)])])]),i("div",ln,[i("section",sn,[i("div",an,[o[13]||(o[13]=i("div",null,[i("h2",{class:"text-xl font-semibold text-slate-800"}," Product Catalog "),i("p",{class:"text-xs text-slate-400"}," Click a product card to add it. Variable products will ask for variation. ")],-1)),i("div",rn,[p(f(wt),{class:"w-full max-w-md"},{default:A(()=>[p(f(kt),null,{default:A(()=>o[12]||(o[12]=[i("i",{class:"pi pi-search"},null,-1)])),_:1}),p(f(j),{modelValue:y.value,"onUpdate:modelValue":o[0]||(o[0]=s=>y.value=s),placeholder:"Search product, SKU, barcode",class:"w-full text-sm"},null,8,["modelValue"])]),_:1})])]),i("div",un,[(m(!0),b(J,null,ae(Oe.value,s=>(m(),b("div",{key:s.id,class:"col-12 sm:col-6 md:col-4 xl:col-3"},[i("div",{class:"rounded-2xl shadow-sm border border-slate-300 bg-slate-100 p-3 flex flex-col h-full cursor-pointer hover:shadow-md hover:-translate-y-0.5 transition",onClick:_=>je(s)},[i("div",cn,[s.thumbnail?(m(),b("img",{key:1,src:f(ct)(s.thumbnail),alt:"",class:"h-full object-contain"},null,8,fn)):(m(),b("span",pn,"Image")),i("div",mn,[p(f(pt),{severity:s.type==="variable"?"info":"secondary",value:s.type},null,8,["severity","value"])]),x(s)?(m(),b("div",hn," -"+v(L(s))+"% ",1)):C("",!0)]),i("div",vn,[i("div",null,[i("div",bn,v(s.name),1),i("div",yn,v(s.sku),1)]),i("div",gn,[i("div",xn,[i("div",On,v((x(s)??F(s)).toFixed(2)),1),x(s)?(m(),b("div",wn,[i("span",kn,v(F(s).toFixed(2)),1),i("span",In,"Save "+v(L(s))+"%",1)])):C("",!0)]),p(f(M),{icon:"pi pi-plus",class:"p-button-rounded p-button-sm p-button-success",type:"button"})])])],8,dn)]))),128)),Oe.value.length?C("",!0):(m(),b("div",_n," No products found "))])]),i("aside",Sn,[i("div",Cn,[i("div",Vn,[i("div",null,[o[14]||(o[14]=i("h3",{class:"text-base font-semibold text-slate-800"}," Order Summary ",-1)),i("p",Ln,v(w.value?w.value.name:"Walk-in customer"),1)]),i("span",Mn,v(g.value.length)+" items ",1)]),i("div",Dn,[o[15]||(o[15]=i("p",{class:"text-xs text-slate-500 mb-1"}," Customer (optional) ",-1)),p(f(Pe),{modelValue:w.value,"onUpdate:modelValue":o[1]||(o[1]=s=>w.value=s),suggestions:R.value,onComplete:h,optionLabel:"name",showClear:"",dropdown:"",loading:$.value,placeholder:"Search by name / phone / email",class:"w-full text-sm"},{option:A(s=>[i("div",Kn,[i("span",An,v(s.option.name),1),i("span",Fn,v(s.option.phone||"")+"  "+v(s.option.email||""),1)])]),_:1},8,["modelValue","suggestions","loading"]),o[16]||(o[16]=i("div",{class:"text-[11px] text-slate-400 mt-1"}," Leave empty for Walk-in customer ",-1))]),i("div",Pn,[(m(!0),b(J,null,ae(g.value,(s,_)=>(m(),b("div",{key:`${s.product_id}-${s.variation_id||"simple"}`,class:"flex items-start justify-between bg-white border-slate-300 border rounded-xl px-3 py-2"},[i("div",Tn,[i("div",En,v(s.name),1),i("div",jn,v(s.sku),1),i("div",Bn,[i("span",Un,v(Number(s.sell_price||0).toFixed(2)),1),s.discount_price?(m(),b("span",Rn," (was "+v(Number(s.unit_price||0).toFixed(2))+") ",1)):C("",!0)]),i("div",$n,[p(f(X),{modelValue:s.quantity,"onUpdate:modelValue":d=>s.quantity=d,min:1,inputClass:"!w-14 !text-xs",showButtons:"",buttonLayout:"horizontal",incrementButtonIcon:"pi pi-plus",decrementButtonIcon:"pi pi-minus",incrementButtonClass:"p-button-text p-button-sm",decrementButtonClass:"p-button-text p-button-sm"},null,8,["modelValue","onUpdate:modelValue"]),i("span",zn," x "+v(Number(s.sell_price||0).toFixed(2)),1)])]),i("div",Gn,[i("div",Nn,v((Number(s.sell_price||0)*Number(s.quantity||0)).toFixed(2)),1),p(f(M),{icon:"pi pi-trash",class:"p-button-text p-button-danger p-button-sm mt-1",onClick:d=>Re(_),type:"button"},null,8,["onClick"])])]))),128)),g.value.length?C("",!0):(m(),b("div",qn," No items in order yet "))]),i("div",Hn,[i("div",Wn,[o[17]||(o[17]=i("span",{class:"text-sm font-semibold text-slate-800"},"Order Discount",-1)),fe.value>0?(m(),b("span",Xn," -"+v(fe.value.toFixed(2)),1)):C("",!0)]),i("div",Zn,[p(f(re),{modelValue:k.value,"onUpdate:modelValue":o[2]||(o[2]=s=>k.value=s),options:[{label:"None",value:"none"},{label:"Percent %",value:"percent"},{label:"Fixed",value:"fixed"}],optionLabel:"label",optionValue:"value",class:"flex-1 min-w-0 text-xs"},null,8,["modelValue"]),p(f(X),{modelValue:V.value,"onUpdate:modelValue":o[3]||(o[3]=s=>V.value=s),min:0,class:"w-24 shrink-0",inputClass:"!text-xs !w-full",suffix:k.value==="percent"?"%":"",disabled:k.value==="none"},null,8,["modelValue","suffix","disabled"])])]),i("div",Jn,[i("div",Qn,[o[18]||(o[18]=i("span",null,"Subtotal",-1)),i("span",Yn,v(pe.value.toFixed(2)),1)]),i("div",eo,[o[19]||(o[19]=i("span",null,"Discount",-1)),i("span",to,"-"+v(ke.value.toFixed(2)),1)]),i("div",no,[o[20]||(o[20]=i("span",null,"Tax",-1)),i("span",oo,v(Ie.value.toFixed(2)),1)]),i("div",io,[o[21]||(o[21]=i("span",{class:"font-semibold text-slate-800"},"Total Payable",-1)),i("span",lo,v(de.value.toFixed(2)),1)])]),i("div",so,[i("div",ao,[o[22]||(o[22]=i("span",{class:"text-xs text-slate-500"},"Payments",-1)),p(f(M),{icon:"pi pi-plus",class:"p-button-text p-button-sm",label:"Add",onClick:ze,type:"button"})]),i("div",ro,[(m(!0),b(J,null,ae(E.value,(s,_)=>(m(),b("div",{key:s.id,class:"bg-white border border-slate-200 rounded-xl p-3"},[i("div",uo,[p(f(re),{modelValue:s.payment_method_id,"onUpdate:modelValue":d=>s.payment_method_id=d,options:t.paymentMethods,optionLabel:"name",optionValue:"id",placeholder:"Method",class:"flex-1 text-xs"},null,8,["modelValue","onUpdate:modelValue","options"]),p(f(X),{modelValue:s.amount,"onUpdate:modelValue":d=>s.amount=d,min:0,class:"w-28",inputClass:"!text-xs"},null,8,["modelValue","onUpdate:modelValue"]),p(f(M),{icon:"pi pi-trash",class:"p-button-text p-button-danger p-button-sm",onClick:d=>Ge(_),type:"button"},null,8,["onClick"])]),i("div",co,[p(f(j),{modelValue:s.transaction_ref,"onUpdate:modelValue":d=>s.transaction_ref=d,placeholder:"Transaction ref (optional)",class:"w-full text-xs"},null,8,["modelValue","onUpdate:modelValue"]),p(f(j),{modelValue:s.notes,"onUpdate:modelValue":d=>s.notes=d,placeholder:"Notes (optional)",class:"w-full text-xs"},null,8,["modelValue","onUpdate:modelValue"])]),he(s)?(m(),b("div",po,[o[23]||(o[23]=i("div",{class:"text-xs font-semibold text-slate-700 mb-2 flex items-center gap-2"},[i("i",{class:"pi pi-building"}),q(" Bank Details ")],-1)),i("div",fo,[p(f(j),{modelValue:s.meta.customer_bank_name,"onUpdate:modelValue":d=>s.meta.customer_bank_name=d,placeholder:"Customer bank name",class:"w-full text-xs"},null,8,["modelValue","onUpdate:modelValue"]),p(f(j),{modelValue:s.meta.customer_account_no,"onUpdate:modelValue":d=>s.meta.customer_account_no=d,placeholder:"Customer account no",class:"w-full text-xs"},null,8,["modelValue","onUpdate:modelValue"]),p(f(X),{modelValue:s.meta.received_to_bank_account_id,"onUpdate:modelValue":d=>s.meta.received_to_bank_account_id=d,min:1,placeholder:"Received to bank account ID",class:"w-full",inputClass:"!text-xs"},null,8,["modelValue","onUpdate:modelValue"]),p(f(j),{modelValue:s.meta.txn_ref,"onUpdate:modelValue":d=>s.meta.txn_ref=d,placeholder:"Bank txn ref / cheque no",class:"w-full text-xs"},null,8,["modelValue","onUpdate:modelValue"])]),o[24]||(o[24]=i("div",{class:"text-[11px] text-slate-400 mt-2"},[q(" These fields go to "),i("b",null,"payments.*.meta"),q(" in backend. ")],-1))])):C("",!0)]))),128))]),i("div",mo,[o[25]||(o[25]=i("span",null,"Total Paid",-1)),i("span",ho,v(Y.value.toFixed(2)),1)]),i("div",vo,[o[26]||(o[26]=i("span",null,"Change",-1)),i("span",bo,v(Ne.value.toFixed(2)),1)]),i("div",yo,[o[27]||(o[27]=i("span",null,"Due",-1)),i("span",go,v(Se.value.toFixed(2)),1)])]),i("div",xo,[p(f(M),{label:"Save Draft",icon:"pi pi-save",class:"w-full",severity:"war",disabled:!g.value.length||!a.value,onClick:o[4]||(o[4]=s=>ve("draft")),type:"button"},null,8,["disabled"]),p(f(M),{label:"Complete",icon:"pi pi-check",class:"w-full",severity:"info",disabled:!g.value.length||!a.value,onClick:o[5]||(o[5]=s=>ve("complete")),type:"button"},null,8,["disabled"]),p(f(M),{label:"Complete & Print",icon:"pi pi-print",class:"w-full",disabled:!g.value.length||!a.value,onClick:o[6]||(o[6]=s=>ve("complete_print")),type:"button",severity:"success"},null,8,["disabled"])])])])])])]),p(f(ye),{visible:Q.value,"onUpdate:visible":o[9]||(o[9]=s=>Q.value=s),modal:"",header:"Select Variation",style:{width:"420px"}},{default:A(()=>[z.value?(m(),b("div",Oo,[i("div",wo,v(z.value.name),1),o[29]||(o[29]=i("div",{class:"text-xs text-slate-500"}," Choose a variation to add to cart. ",-1)),p(f(re),{modelValue:G.value,"onUpdate:modelValue":o[7]||(o[7]=s=>G.value=s),options:Ee.value,optionLabel:"label",optionValue:"value",placeholder:"Select variation",class:"w-full",showClear:""},null,8,["modelValue","options"]),U.value?(m(),b("div",ko,[o[28]||(o[28]=i("div",{class:"text-xs text-slate-500"},"Price",-1)),i("div",Io,[i("div",_o,v((T(U.value)??B(U.value)).toFixed(2)),1),T(U.value)?(m(),b("div",So,v(B(U.value).toFixed(2)),1)):C("",!0),T(U.value)?(m(),b("div",Co," -"+v(Te(U.value))+"% ",1)):C("",!0)])])):C("",!0),i("div",Vo,[p(f(M),{label:"Cancel",class:"p-button-text",onClick:o[8]||(o[8]=s=>Q.value=!1)}),p(f(M),{label:"Add to Cart",icon:"pi pi-check",disabled:!G.value,onClick:Ue},null,8,["disabled"])])])):C("",!0)]),_:1},8,["visible"])]),_:1}))}};export{Jo as default};
