import{f as N,I as $,o as l,w as i,b as n,a as o,u as t,W as c,c as m,e as v,t as b,d as T,F as B,i as P,U as V,j}from"./app-C0cgKEVJ.js";import{r as A}from"./imageHelper-BscTlunE.js";import{a as u,s as y}from"./index-BrdrWM5Y.js";import{a as I,s as a}from"./index-C9oOZDN3.js";import{_ as L}from"./AuthenticatedLayout-BaSUhMCN.js";import"./index-HU_mUv9Y.js";import"./index-Bq_PLBQx.js";import"./index-CZnd7t6v.js";import"./index-DchAFvzt.js";import"./index-CASaY_cd.js";import"./index-RF1b40_i.js";import"./index-DB_Lcll3.js";import"./index-DguU-g0e.js";import"./index-CbEqa0vW.js";import"./index-Bqd9hyBX.js";import"./index-C4az3xXa.js";import"./index-BXXQtM63.js";import"./index-DoFtRZeu.js";import"./index-BhqVbYAE.js";import"./index-KEq5E4jG.js";import"./index-Do0mVlXl.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./FavIcons-xHxhwu_P.js";const M={class:"space-y-6"},D={class:"card"},E={class:"flex justify-between items-center mb-3"},q=["src"],F={key:1,class:"text-gray-500"},H={class:"font-medium"},K={class:"mt-3 flex flex-wrap gap-1"},U=["onClick","innerHTML"],me={__name:"Index",props:{products:{type:Object,required:!0}},setup(f){const h=f,_=N(()=>h.products||{data:[],links:[]}),k=s=>{s&&c.visit(s,{preserveScroll:!0,preserveState:!0})},g=()=>c.visit(route("products.create")),C=s=>c.visit(route("products.show",s.id)),x=s=>c.visit(route("products.edit",s.id)),w=s=>{confirm("Delete this product?")&&c.delete(route("products.destroy",s.id),{preserveScroll:!0,preserveState:!0})},S=s=>s.total_stock!==void 0&&s.total_stock!==null?Number(s.total_stock):Array.isArray(s.stocks)?s.stocks.reduce((d,p)=>d+Number(p.quantity||0),0):0;return(s,d)=>(l(),$(L,null,{default:i(()=>{var p;return[n("div",M,[n("div",D,[n("div",E,[d[0]||(d[0]=n("h2",{class:"text-xl font-semibold"},"Products",-1)),o(t(u),{label:"New Product",icon:"pi pi-plus",class:"p-button-sm",onClick:g})]),o(t(I),{value:_.value.data,dataKey:"id",paginator:!1,class:"w-full"},{default:i(()=>[o(t(a),{header:"Thumbnail"},{body:i(({data:e})=>[e.thumbnail?(l(),m("img",{key:0,src:t(A)(e.thumbnail),alt:"Thumbnail",class:"w-10 h-10 object-cover rounded"},null,8,q)):(l(),m("span",F,"No image"))]),_:1}),o(t(a),{field:"name",header:"Name"}),o(t(a),{header:"Type"},{body:i(({data:e})=>[o(t(y),{severity:e.type==="variable"?"info":"secondary",value:e.type},null,8,["severity","value"])]),_:1}),o(t(a),{field:"sku",header:"SKU"}),o(t(a),{header:"Category"},{body:i(({data:e})=>{var r;return[v(b(((r=e.category)==null?void 0:r.name)||"-"),1)]}),_:1}),o(t(a),{header:"Brand"},{body:i(({data:e})=>{var r;return[v(b(((r=e.brand)==null?void 0:r.name)||"-"),1)]}),_:1}),o(t(a),{field:"base_price",header:"Base Price"}),o(t(a),{header:"Total Stock"},{body:i(({data:e})=>[n("span",H,b(S(e)),1)]),_:1}),o(t(a),{header:"Status"},{body:i(({data:e})=>[o(t(y),{severity:e.is_active?"success":"danger"},{default:i(()=>[v(b(e.is_active?"Active":"Inactive"),1)]),_:2},1032,["severity"])]),_:1}),o(t(a),{header:"Actions"},{body:i(({data:e})=>[o(t(u),{label:"View",icon:"pi pi-eye",class:"p-button-text p-button-sm mr-1",onClick:r=>C(e)},null,8,["onClick"]),o(t(u),{label:"Edit",icon:"pi pi-pencil",class:"p-button-text p-button-sm mr-1",onClick:r=>x(e)},null,8,["onClick"]),o(t(u),{label:"Delete",icon:"pi pi-trash",class:"p-button-text p-button-danger p-button-sm",onClick:r=>w(e)},null,8,["onClick"]),o(t(u),{label:"Stock Movement",icon:"pi pi-sort-alt",class:"p-button-secondary",onClick:r=>t(c).visit(s.route("admin.stock.move.form",e.id))},null,8,["onClick"])]),_:1})]),_:1},8,["value"]),n("div",K,[(p=s.link)!=null&&p.url?(l(!0),m(B,{key:0},P(_.value.links||[],e=>(l(),m("button",{key:((e==null?void 0:e.url)||"")+e.label,class:j(["px-3 py-1 border rounded text-sm",{"bg-gray-200 font-semibold":e.active}]),onClick:V(r=>k(e.url),["prevent"]),innerHTML:e.label},null,10,U))),128)):T("",!0)])])])]}),_:1}))}};export{me as default};
