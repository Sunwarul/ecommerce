import{_ as Je}from"./AuthenticatedLayout-DJHnQnZa.js";import{B as Qe,k as fe,l as Ye,p as N,q as Ae,s as et,v as tt,x as nt,y as ot,z as it,A as lt,D as st,E as ie,G as le,H as at,c as b,o as m,I as Q,d as V,J as F,b as i,a as d,K as rt,j as se,m as _,F as Y,i as ae,w as T,L as ut,t as h,T as dt,M as ct,N as pt,e as G,O as Ee,n as je,f as M,r as I,u as p,W as me,g as ft,Q as mt,R as xe}from"./app-CfZqGFrz.js";import{r as ht}from"./imageHelper-BscTlunE.js";import{a as L,s as vt}from"./index-BP4g10d4.js";import{s as we}from"./index-WAZDV9qK.js";import{s as re}from"./index-DX7Lfw3u.js";import{s as J}from"./index-CkMHPyrW.js";import{s as j,a as bt}from"./index-BGTr00vW.js";import{s as yt,C as gt,Z as Oe,O as xt,U as Ke}from"./index-B5PF213O.js";import{s as Ot}from"./index-BBlGtRQ-.js";import{R as wt,s as _t}from"./index-QPtwLXw7.js";import{s as kt}from"./index-AyFJPf2q.js";import{a as It}from"./index-BZdu1q0f.js";import{s as St,a as Ct}from"./index-Co2aoSot.js";import{s as Vt}from"./index-BQrJ1Zpt.js";import"./index-BV1P04VT.js";import"./index-CdUENguR.js";import"./index-yTfERYif.js";import"./index-FvJsJ9Cf.js";import"./index-B2l2iXuO.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./FavIcons-BKI-ObOZ.js";import"./index-BrS4A3iy.js";var Lt=function(e){var n=e.dt;return`
.p-autocomplete {
    display: inline-flex;
}

.p-autocomplete-loader {
    position: absolute;
    top: 50%;
    margin-top: -0.5rem;
    inset-inline-end: `.concat(n("autocomplete.padding.x"),`;
}

.p-autocomplete:has(.p-autocomplete-dropdown) .p-autocomplete-loader {
    inset-inline-end: calc(`).concat(n("autocomplete.dropdown.width")," + ").concat(n("autocomplete.padding.x"),`);
}

.p-autocomplete:has(.p-autocomplete-dropdown) .p-autocomplete-input {
    flex: 1 1 auto;
    width: 1%;
}

.p-autocomplete:has(.p-autocomplete-dropdown) .p-autocomplete-input,
.p-autocomplete:has(.p-autocomplete-dropdown) .p-autocomplete-input-multiple {
    border-start-end-radius: 0;
    border-end-end-radius: 0;
}

.p-autocomplete-dropdown {
    cursor: pointer;
    display: inline-flex;
    user-select: none;
    align-items: center;
    justify-content: center;
    overflow: hidden;
    position: relative;
    width: `).concat(n("autocomplete.dropdown.width"),`;
    border-start-end-radius: `).concat(n("autocomplete.dropdown.border.radius"),`;
    border-end-end-radius: `).concat(n("autocomplete.dropdown.border.radius"),`;
    background: `).concat(n("autocomplete.dropdown.background"),`;
    border: 1px solid `).concat(n("autocomplete.dropdown.border.color"),`;
    border-inline-start: 0 none;
    color: `).concat(n("autocomplete.dropdown.color"),`;
    transition: background `).concat(n("autocomplete.transition.duration"),", color ").concat(n("autocomplete.transition.duration"),", border-color ").concat(n("autocomplete.transition.duration"),", outline-color ").concat(n("autocomplete.transition.duration"),", box-shadow ").concat(n("autocomplete.transition.duration"),`;
    outline-color: transparent;
}

.p-autocomplete-dropdown:not(:disabled):hover {
    background: `).concat(n("autocomplete.dropdown.hover.background"),`;
    border-color: `).concat(n("autocomplete.dropdown.hover.border.color"),`;
    color: `).concat(n("autocomplete.dropdown.hover.color"),`;
}

.p-autocomplete-dropdown:not(:disabled):active {
    background: `).concat(n("autocomplete.dropdown.active.background"),`;
    border-color: `).concat(n("autocomplete.dropdown.active.border.color"),`;
    color: `).concat(n("autocomplete.dropdown.active.color"),`;
}

.p-autocomplete-dropdown:focus-visible {
    box-shadow: `).concat(n("autocomplete.dropdown.focus.ring.shadow"),`;
    outline: `).concat(n("autocomplete.dropdown.focus.ring.width")," ").concat(n("autocomplete.dropdown.focus.ring.style")," ").concat(n("autocomplete.dropdown.focus.ring.color"),`;
    outline-offset: `).concat(n("autocomplete.dropdown.focus.ring.offset"),`;
}

.p-autocomplete .p-autocomplete-overlay {
    min-width: 100%;
}

.p-autocomplete-overlay {
    position: absolute;
    top: 0;
    left: 0;
    background: `).concat(n("autocomplete.overlay.background"),`;
    color: `).concat(n("autocomplete.overlay.color"),`;
    border: 1px solid `).concat(n("autocomplete.overlay.border.color"),`;
    border-radius: `).concat(n("autocomplete.overlay.border.radius"),`;
    box-shadow: `).concat(n("autocomplete.overlay.shadow"),`;
}

.p-autocomplete-list-container {
    overflow: auto;
}

.p-autocomplete-list {
    margin: 0;
    list-style-type: none;
    display: flex;
    flex-direction: column;
    gap: `).concat(n("autocomplete.list.gap"),`;
    padding: `).concat(n("autocomplete.list.padding"),`;
}

.p-autocomplete-option {
    cursor: pointer;
    white-space: nowrap;
    position: relative;
    overflow: hidden;
    display: flex;
    align-items: center;
    padding: `).concat(n("autocomplete.option.padding"),`;
    border: 0 none;
    color: `).concat(n("autocomplete.option.color"),`;
    background: transparent;
    transition: background `).concat(n("autocomplete.transition.duration"),", color ").concat(n("autocomplete.transition.duration"),", border-color ").concat(n("autocomplete.transition.duration"),`;
    border-radius: `).concat(n("autocomplete.option.border.radius"),`;
}

.p-autocomplete-option:not(.p-autocomplete-option-selected):not(.p-disabled).p-focus {
    background: `).concat(n("autocomplete.option.focus.background"),`;
    color: `).concat(n("autocomplete.option.focus.color"),`;
}

.p-autocomplete-option-selected {
    background: `).concat(n("autocomplete.option.selected.background"),`;
    color: `).concat(n("autocomplete.option.selected.color"),`;
}

.p-autocomplete-option-selected.p-focus {
    background: `).concat(n("autocomplete.option.selected.focus.background"),`;
    color: `).concat(n("autocomplete.option.selected.focus.color"),`;
}

.p-autocomplete-option-group {
    margin: 0;
    padding: `).concat(n("autocomplete.option.group.padding"),`;
    color: `).concat(n("autocomplete.option.group.color"),`;
    background: `).concat(n("autocomplete.option.group.background"),`;
    font-weight: `).concat(n("autocomplete.option.group.font.weight"),`;
}

.p-autocomplete-input-multiple {
    margin: 0;
    list-style-type: none;
    cursor: text;
    overflow: hidden;
    display: flex;
    align-items: center;
    flex-wrap: wrap;
    padding: calc(`).concat(n("autocomplete.padding.y")," / 2) ").concat(n("autocomplete.padding.x"),`;
    gap: calc(`).concat(n("autocomplete.padding.y"),` / 2);
    color: `).concat(n("autocomplete.color"),`;
    background: `).concat(n("autocomplete.background"),`;
    border: 1px solid `).concat(n("autocomplete.border.color"),`;
    border-radius: `).concat(n("autocomplete.border.radius"),`;
    width: 100%;
    transition: background `).concat(n("autocomplete.transition.duration"),", color ").concat(n("autocomplete.transition.duration"),", border-color ").concat(n("autocomplete.transition.duration"),", outline-color ").concat(n("autocomplete.transition.duration"),", box-shadow ").concat(n("autocomplete.transition.duration"),`;
    outline-color: transparent;
    box-shadow: `).concat(n("autocomplete.shadow"),`;
}

.p-autocomplete:not(.p-disabled):hover .p-autocomplete-input-multiple {
    border-color: `).concat(n("autocomplete.hover.border.color"),`;
}

.p-autocomplete:not(.p-disabled).p-focus .p-autocomplete-input-multiple {
    border-color: `).concat(n("autocomplete.focus.border.color"),`;
    box-shadow: `).concat(n("autocomplete.focus.ring.shadow"),`;
    outline: `).concat(n("autocomplete.focus.ring.width")," ").concat(n("autocomplete.focus.ring.style")," ").concat(n("autocomplete.focus.ring.color"),`;
    outline-offset: `).concat(n("autocomplete.focus.ring.offset"),`;
}

.p-autocomplete.p-invalid .p-autocomplete-input-multiple {
    border-color: `).concat(n("autocomplete.invalid.border.color"),`;
}

.p-variant-filled.p-autocomplete-input-multiple {
    background: `).concat(n("autocomplete.filled.background"),`;
}

.p-autocomplete:not(.p-disabled):hover .p-variant-filled.p-autocomplete-input-multiple {
    background: `).concat(n("autocomplete.filled.hover.background"),`;
}

.p-autocomplete:not(.p-disabled).p-focus .p-variant-filled.p-autocomplete-input-multiple  {
    background: `).concat(n("autocomplete.filled.focus.background"),`;
}

.p-autocomplete.p-disabled .p-autocomplete-input-multiple {
    opacity: 1;
    background: `).concat(n("autocomplete.disabled.background"),`;
    color: `).concat(n("autocomplete.disabled.color"),`;
}

.p-autocomplete-chip.p-chip {
    padding-block-start: calc(`).concat(n("autocomplete.padding.y"),` / 2);
    padding-block-end: calc(`).concat(n("autocomplete.padding.y"),` / 2);
    border-radius: `).concat(n("autocomplete.chip.border.radius"),`;
}

.p-autocomplete-input-multiple:has(.p-autocomplete-chip) {
    padding-inline-start: calc(`).concat(n("autocomplete.padding.y"),` / 2);
    padding-inline-end: calc(`).concat(n("autocomplete.padding.y"),` / 2);
}

.p-autocomplete-chip-item.p-focus .p-autocomplete-chip {
    background: `).concat(n("autocomplete.chip.focus.background"),`;
    color: `).concat(n("autocomplete.chip.focus.color"),`;
}

.p-autocomplete-input-chip {
    flex: 1 1 auto;
    display: inline-flex;
    padding-block-start: calc(`).concat(n("autocomplete.padding.y"),` / 2);
    padding-block-end: calc(`).concat(n("autocomplete.padding.y"),` / 2);
}

.p-autocomplete-input-chip input {
    border: 0 none;
    outline: 0 none;
    background: transparent;
    margin: 0;
    padding: 0;
    box-shadow: none;
    border-radius: 0;
    width: 100%;
    font-family: inherit;
    font-feature-settings: inherit;
    font-size: 1rem;
    color: inherit;
}

.p-autocomplete-input-chip input::placeholder {
    color: `).concat(n("autocomplete.placeholder.color"),`;
}

.p-autocomplete.p-invalid .p-autocomplete-input-chip input::placeholder {
    color: `).concat(n("autocomplete.invalid.placeholder.color"),`;
}

.p-autocomplete-empty-message {
    padding: `).concat(n("autocomplete.empty.message.padding"),`;
}

.p-autocomplete-fluid {
    display: flex;
}

.p-autocomplete-fluid:has(.p-autocomplete-dropdown) .p-autocomplete-input {
    width: 1%;
}

.p-autocomplete:has(.p-inputtext-sm) .p-autocomplete-dropdown {
    width: `).concat(n("autocomplete.dropdown.sm.width"),`;
}

.p-autocomplete:has(.p-inputtext-sm) .p-autocomplete-dropdown .p-icon {
    font-size: `).concat(n("form.field.sm.font.size"),`;
    width: `).concat(n("form.field.sm.font.size"),`;
    height: `).concat(n("form.field.sm.font.size"),`;
}

.p-autocomplete:has(.p-inputtext-lg) .p-autocomplete-dropdown {
    width: `).concat(n("autocomplete.dropdown.lg.width"),`;
}

.p-autocomplete:has(.p-inputtext-lg) .p-autocomplete-dropdown .p-icon {
    font-size: `).concat(n("form.field.lg.font.size"),`;
    width: `).concat(n("form.field.lg.font.size"),`;
    height: `).concat(n("form.field.lg.font.size"),`;
}
`)},Mt={root:{position:"relative"}},Dt={root:function(e){var n=e.instance,r=e.props;return["p-autocomplete p-component p-inputwrapper",{"p-disabled":r.disabled,"p-invalid":n.$invalid,"p-focus":n.focused,"p-inputwrapper-filled":n.$filled||fe(n.inputValue),"p-inputwrapper-focus":n.focused,"p-autocomplete-open":n.overlayVisible,"p-autocomplete-fluid":n.$fluid}]},pcInputText:"p-autocomplete-input",inputMultiple:function(e){e.props;var n=e.instance;return["p-autocomplete-input-multiple",{"p-variant-filled":n.$variant==="filled"}]},chipItem:function(e){var n=e.instance,r=e.i;return["p-autocomplete-chip-item",{"p-focus":n.focusedMultipleOptionIndex===r}]},pcChip:"p-autocomplete-chip",chipIcon:"p-autocomplete-chip-icon",inputChip:"p-autocomplete-input-chip",loader:"p-autocomplete-loader",dropdown:"p-autocomplete-dropdown",overlay:"p-autocomplete-overlay p-component",listContainer:"p-autocomplete-list-container",list:"p-autocomplete-list",optionGroup:"p-autocomplete-option-group",option:function(e){var n=e.instance,r=e.option,u=e.i,l=e.getItemOptions;return["p-autocomplete-option",{"p-autocomplete-option-selected":n.isSelected(r),"p-focus":n.focusedOptionIndex===n.getOptionIndex(u,l),"p-disabled":n.isOptionDisabled(r)}]},emptyMessage:"p-autocomplete-empty-message"},At=Qe.extend({name:"autocomplete",theme:Lt,classes:Dt,inlineStyles:Mt}),Kt={name:"BaseAutoComplete",extends:bt,props:{suggestions:{type:Array,default:null},optionLabel:null,optionDisabled:null,optionGroupLabel:null,optionGroupChildren:null,scrollHeight:{type:String,default:"14rem"},dropdown:{type:Boolean,default:!1},dropdownMode:{type:String,default:"blank"},multiple:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},placeholder:{type:String,default:null},dataKey:{type:String,default:null},minLength:{type:Number,default:1},delay:{type:Number,default:300},appendTo:{type:[String,Object],default:"body"},forceSelection:{type:Boolean,default:!1},completeOnFocus:{type:Boolean,default:!1},inputId:{type:String,default:null},inputStyle:{type:Object,default:null},inputClass:{type:[String,Object],default:null},panelStyle:{type:Object,default:null},panelClass:{type:[String,Object],default:null},overlayStyle:{type:Object,default:null},overlayClass:{type:[String,Object],default:null},dropdownIcon:{type:String,default:null},dropdownClass:{type:[String,Object],default:null},loader:{type:String,default:null},loadingIcon:{type:String,default:null},removeTokenIcon:{type:String,default:null},chipIcon:{type:String,default:null},virtualScrollerOptions:{type:Object,default:null},autoOptionFocus:{type:Boolean,default:!1},selectOnFocus:{type:Boolean,default:!1},focusOnHover:{type:Boolean,default:!0},searchLocale:{type:String,default:void 0},searchMessage:{type:String,default:null},selectionMessage:{type:String,default:null},emptySelectionMessage:{type:String,default:null},emptySearchMessage:{type:String,default:null},showEmptyMessage:{type:Boolean,default:!0},tabindex:{type:Number,default:0},typeahead:{type:Boolean,default:!0},ariaLabel:{type:String,default:null},ariaLabelledby:{type:String,default:null}},style:At,provide:function(){return{$pcAutoComplete:this,$parentInstance:this}}};function _e(t){"@babel/helpers - typeof";return _e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_e(t)}function Pe(t){return Et(t)||Ft(t)||Tt(t)||Pt()}function Pt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Tt(t,e){if(t){if(typeof t=="string")return ke(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ke(t,e):void 0}}function Ft(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Et(t){if(Array.isArray(t))return ke(t)}function ke(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var Be={name:"AutoComplete",extends:Kt,inheritAttrs:!1,emits:["change","focus","blur","item-select","item-unselect","option-select","option-unselect","dropdown-click","clear","complete","before-show","before-hide","show","hide"],inject:{$pcFluid:{default:null}},outsideClickListener:null,resizeListener:null,scrollHandler:null,overlay:null,virtualScroller:null,searchTimeout:null,dirty:!1,data:function(){return{id:this.$attrs.id,clicked:!1,focused:!1,focusedOptionIndex:-1,focusedMultipleOptionIndex:-1,overlayVisible:!1,searching:!1}},watch:{"$attrs.id":function(e){this.id=e||Ke()},suggestions:function(){this.searching&&(this.show(),this.focusedOptionIndex=this.overlayVisible&&this.autoOptionFocus?this.findFirstFocusedOptionIndex():-1,this.searching=!1,!this.showEmptyMessage&&this.visibleOptions.length===0&&this.hide()),this.autoUpdateModel()}},mounted:function(){this.id=this.id||Ke(),this.autoUpdateModel()},updated:function(){this.overlayVisible&&this.alignOverlay()},beforeUnmount:function(){this.unbindOutsideClickListener(),this.unbindResizeListener(),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.overlay&&(Oe.clear(this.overlay),this.overlay=null)},methods:{getOptionIndex:function(e,n){return this.virtualScrollerDisabled?e:n&&n(e).index},getOptionLabel:function(e){return this.optionLabel?ie(e,this.optionLabel):e},getOptionValue:function(e){return e},getOptionRenderKey:function(e,n){return(this.dataKey?ie(e,this.dataKey):this.getOptionLabel(e))+"_"+n},getPTOptions:function(e,n,r,u){return this.ptm(u,{context:{selected:this.isSelected(e),focused:this.focusedOptionIndex===this.getOptionIndex(r,n),disabled:this.isOptionDisabled(e)}})},isOptionDisabled:function(e){return this.optionDisabled?ie(e,this.optionDisabled):!1},isOptionGroup:function(e){return this.optionGroupLabel&&e.optionGroup&&e.group},getOptionGroupLabel:function(e){return ie(e,this.optionGroupLabel)},getOptionGroupChildren:function(e){return ie(e,this.optionGroupChildren)},getAriaPosInset:function(e){var n=this;return(this.optionGroupLabel?e-this.visibleOptions.slice(0,e).filter(function(r){return n.isOptionGroup(r)}).length:e)+1},show:function(e){this.$emit("before-show"),this.dirty=!0,this.overlayVisible=!0,this.focusedOptionIndex=this.focusedOptionIndex!==-1?this.focusedOptionIndex:this.autoOptionFocus?this.findFirstFocusedOptionIndex():-1,e&&N(this.multiple?this.$refs.focusInput:this.$refs.focusInput.$el)},hide:function(e){var n=this,r=function(){var l;n.$emit("before-hide"),n.dirty=e,n.overlayVisible=!1,n.clicked=!1,n.focusedOptionIndex=-1,e&&N(n.multiple?n.$refs.focusInput:(l=n.$refs.focusInput)===null||l===void 0?void 0:l.$el)};setTimeout(function(){r()},0)},onFocus:function(e){this.disabled||(!this.dirty&&this.completeOnFocus&&this.search(e,e.target.value,"focus"),this.dirty=!0,this.focused=!0,this.overlayVisible&&(this.focusedOptionIndex=this.focusedOptionIndex!==-1?this.focusedOptionIndex:this.overlayVisible&&this.autoOptionFocus?this.findFirstFocusedOptionIndex():-1,this.scrollInView(this.focusedOptionIndex)),this.$emit("focus",e))},onBlur:function(e){var n,r;this.dirty=!1,this.focused=!1,this.focusedOptionIndex=-1,this.$emit("blur",e),(n=(r=this.formField).onBlur)===null||n===void 0||n.call(r)},onKeyDown:function(e){if(this.disabled){e.preventDefault();return}switch(e.code){case"ArrowDown":this.onArrowDownKey(e);break;case"ArrowUp":this.onArrowUpKey(e);break;case"ArrowLeft":this.onArrowLeftKey(e);break;case"ArrowRight":this.onArrowRightKey(e);break;case"Home":this.onHomeKey(e);break;case"End":this.onEndKey(e);break;case"PageDown":this.onPageDownKey(e);break;case"PageUp":this.onPageUpKey(e);break;case"Enter":case"NumpadEnter":this.onEnterKey(e);break;case"Escape":this.onEscapeKey(e);break;case"Tab":this.onTabKey(e);break;case"Backspace":this.onBackspaceKey(e);break}this.clicked=!1},onInput:function(e){var n=this;if(this.typeahead){this.searchTimeout&&clearTimeout(this.searchTimeout);var r=e.target.value;this.multiple||this.updateModel(e,r),r.length===0?(this.hide(),this.$emit("clear")):r.length>=this.minLength?(this.focusedOptionIndex=-1,this.searchTimeout=setTimeout(function(){n.search(e,r,"input")},this.delay)):this.hide()}},onChange:function(e){var n=this;if(this.forceSelection){var r=!1;if(this.visibleOptions&&!this.multiple){var u=this.multiple?this.$refs.focusInput.value:this.$refs.focusInput.$el.value,l=this.visibleOptions.find(function(x){return n.isOptionMatched(x,u||"")});l!==void 0&&(r=!0,!this.isSelected(l)&&this.onOptionSelect(e,l))}r||(this.multiple?this.$refs.focusInput.value="":this.$refs.focusInput.$el.value="",this.$emit("clear"),!this.multiple&&this.updateModel(e,null))}},onMultipleContainerFocus:function(){this.disabled||(this.focused=!0)},onMultipleContainerBlur:function(){this.focusedMultipleOptionIndex=-1,this.focused=!1},onMultipleContainerKeyDown:function(e){if(this.disabled){e.preventDefault();return}switch(e.code){case"ArrowLeft":this.onArrowLeftKeyOnMultiple(e);break;case"ArrowRight":this.onArrowRightKeyOnMultiple(e);break;case"Backspace":this.onBackspaceKeyOnMultiple(e);break}},onContainerClick:function(e){this.clicked=!0,!(this.disabled||this.searching||this.loading||this.isDropdownClicked(e))&&(!this.overlay||!this.overlay.contains(e.target))&&N(this.multiple?this.$refs.focusInput:this.$refs.focusInput.$el)},onDropdownClick:function(e){var n=void 0;if(this.overlayVisible)this.hide(!0);else{var r=this.multiple?this.$refs.focusInput:this.$refs.focusInput.$el;N(r),n=r.value,this.dropdownMode==="blank"?this.search(e,"","dropdown"):this.dropdownMode==="current"&&this.search(e,n,"dropdown")}this.$emit("dropdown-click",{originalEvent:e,query:n})},onOptionSelect:function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,u=this.getOptionValue(n);this.multiple?(this.$refs.focusInput.value="",this.isSelected(n)||this.updateModel(e,[].concat(Pe(this.d_value||[]),[u]))):this.updateModel(e,u),this.$emit("item-select",{originalEvent:e,value:n}),this.$emit("option-select",{originalEvent:e,value:n}),r&&this.hide(!0)},onOptionMouseMove:function(e,n){this.focusOnHover&&this.changeFocusedOptionIndex(e,n)},onOverlayClick:function(e){xt.emit("overlay-click",{originalEvent:e,target:this.$el})},onOverlayKeyDown:function(e){switch(e.code){case"Escape":this.onEscapeKey(e);break}},onArrowDownKey:function(e){if(this.overlayVisible){var n=this.focusedOptionIndex!==-1?this.findNextOptionIndex(this.focusedOptionIndex):this.clicked?this.findFirstOptionIndex():this.findFirstFocusedOptionIndex();this.changeFocusedOptionIndex(e,n),e.preventDefault()}},onArrowUpKey:function(e){if(this.overlayVisible)if(e.altKey)this.focusedOptionIndex!==-1&&this.onOptionSelect(e,this.visibleOptions[this.focusedOptionIndex]),this.overlayVisible&&this.hide(),e.preventDefault();else{var n=this.focusedOptionIndex!==-1?this.findPrevOptionIndex(this.focusedOptionIndex):this.clicked?this.findLastOptionIndex():this.findLastFocusedOptionIndex();this.changeFocusedOptionIndex(e,n),e.preventDefault()}},onArrowLeftKey:function(e){var n=e.currentTarget;this.focusedOptionIndex=-1,this.multiple&&(st(n.value)&&this.$filled?(N(this.$refs.multiContainer),this.focusedMultipleOptionIndex=this.d_value.length):e.stopPropagation())},onArrowRightKey:function(e){this.focusedOptionIndex=-1,this.multiple&&e.stopPropagation()},onHomeKey:function(e){var n=e.currentTarget,r=n.value.length;n.setSelectionRange(0,e.shiftKey?r:0),this.focusedOptionIndex=-1,e.preventDefault()},onEndKey:function(e){var n=e.currentTarget,r=n.value.length;n.setSelectionRange(e.shiftKey?0:r,r),this.focusedOptionIndex=-1,e.preventDefault()},onPageUpKey:function(e){this.scrollInView(0),e.preventDefault()},onPageDownKey:function(e){this.scrollInView(this.visibleOptions.length-1),e.preventDefault()},onEnterKey:function(e){this.typeahead?this.overlayVisible?(this.focusedOptionIndex!==-1&&this.onOptionSelect(e,this.visibleOptions[this.focusedOptionIndex]),this.hide()):(this.focusedOptionIndex=-1,this.onArrowDownKey(e)):this.multiple&&(this.updateModel(e,[].concat(Pe(this.d_value||[]),[e.target.value])),this.$refs.focusInput.value=""),e.preventDefault()},onEscapeKey:function(e){this.overlayVisible&&this.hide(!0),e.preventDefault()},onTabKey:function(e){this.focusedOptionIndex!==-1&&this.onOptionSelect(e,this.visibleOptions[this.focusedOptionIndex]),this.overlayVisible&&this.hide()},onBackspaceKey:function(e){if(this.multiple){if(fe(this.d_value)&&!this.$refs.focusInput.value){var n=this.d_value[this.d_value.length-1],r=this.d_value.slice(0,-1);this.writeValue(r,e),this.$emit("item-unselect",{originalEvent:e,value:n}),this.$emit("option-unselect",{originalEvent:e,value:n})}e.stopPropagation()}},onArrowLeftKeyOnMultiple:function(){this.focusedMultipleOptionIndex=this.focusedMultipleOptionIndex<1?0:this.focusedMultipleOptionIndex-1},onArrowRightKeyOnMultiple:function(){this.focusedMultipleOptionIndex++,this.focusedMultipleOptionIndex>this.d_value.length-1&&(this.focusedMultipleOptionIndex=-1,N(this.$refs.focusInput))},onBackspaceKeyOnMultiple:function(e){this.focusedMultipleOptionIndex!==-1&&this.removeOption(e,this.focusedMultipleOptionIndex)},onOverlayEnter:function(e){Oe.set("overlay",e,this.$primevue.config.zIndex.overlay),lt(e,{position:"absolute",top:"0",left:"0"}),this.alignOverlay()},onOverlayAfterEnter:function(){this.bindOutsideClickListener(),this.bindScrollListener(),this.bindResizeListener(),this.$emit("show")},onOverlayLeave:function(){this.unbindOutsideClickListener(),this.unbindScrollListener(),this.unbindResizeListener(),this.$emit("hide"),this.overlay=null},onOverlayAfterLeave:function(e){Oe.clear(e)},alignOverlay:function(){var e=this.multiple?this.$refs.multiContainer:this.$refs.focusInput.$el;this.appendTo==="self"?nt(this.overlay,e):(this.overlay.style.minWidth=ot(e)+"px",it(this.overlay,e))},bindOutsideClickListener:function(){var e=this;this.outsideClickListener||(this.outsideClickListener=function(n){e.overlayVisible&&e.overlay&&e.isOutsideClicked(n)&&e.hide()},document.addEventListener("click",this.outsideClickListener))},unbindOutsideClickListener:function(){this.outsideClickListener&&(document.removeEventListener("click",this.outsideClickListener),this.outsideClickListener=null)},bindScrollListener:function(){var e=this;this.scrollHandler||(this.scrollHandler=new gt(this.$refs.container,function(){e.overlayVisible&&e.hide()})),this.scrollHandler.bindScrollListener()},unbindScrollListener:function(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()},bindResizeListener:function(){var e=this;this.resizeListener||(this.resizeListener=function(){e.overlayVisible&&!tt()&&e.hide()},window.addEventListener("resize",this.resizeListener))},unbindResizeListener:function(){this.resizeListener&&(window.removeEventListener("resize",this.resizeListener),this.resizeListener=null)},isOutsideClicked:function(e){return!this.overlay.contains(e.target)&&!this.isInputClicked(e)&&!this.isDropdownClicked(e)},isInputClicked:function(e){return this.multiple?e.target===this.$refs.multiContainer||this.$refs.multiContainer.contains(e.target):e.target===this.$refs.focusInput.$el},isDropdownClicked:function(e){return this.$refs.dropdownButton?e.target===this.$refs.dropdownButton||this.$refs.dropdownButton.contains(e.target):!1},isOptionMatched:function(e,n){var r;return this.isValidOption(e)&&((r=this.getOptionLabel(e))===null||r===void 0?void 0:r.toLocaleLowerCase(this.searchLocale))===n.toLocaleLowerCase(this.searchLocale)},isValidOption:function(e){return fe(e)&&!(this.isOptionDisabled(e)||this.isOptionGroup(e))},isValidSelectedOption:function(e){return this.isValidOption(e)&&this.isSelected(e)},isEquals:function(e,n){return et(e,n,this.equalityKey)},isSelected:function(e){var n=this,r=this.getOptionValue(e);return this.multiple?(this.d_value||[]).some(function(u){return n.isEquals(u,r)}):this.isEquals(this.d_value,this.getOptionValue(e))},findFirstOptionIndex:function(){var e=this;return this.visibleOptions.findIndex(function(n){return e.isValidOption(n)})},findLastOptionIndex:function(){var e=this;return Ae(this.visibleOptions,function(n){return e.isValidOption(n)})},findNextOptionIndex:function(e){var n=this,r=e<this.visibleOptions.length-1?this.visibleOptions.slice(e+1).findIndex(function(u){return n.isValidOption(u)}):-1;return r>-1?r+e+1:e},findPrevOptionIndex:function(e){var n=this,r=e>0?Ae(this.visibleOptions.slice(0,e),function(u){return n.isValidOption(u)}):-1;return r>-1?r:e},findSelectedOptionIndex:function(){var e=this;return this.$filled?this.visibleOptions.findIndex(function(n){return e.isValidSelectedOption(n)}):-1},findFirstFocusedOptionIndex:function(){var e=this.findSelectedOptionIndex();return e<0?this.findFirstOptionIndex():e},findLastFocusedOptionIndex:function(){var e=this.findSelectedOptionIndex();return e<0?this.findLastOptionIndex():e},search:function(e,n,r){n!=null&&(r==="input"&&n.trim().length===0||(this.searching=!0,this.$emit("complete",{originalEvent:e,query:n})))},removeOption:function(e,n){var r=this,u=this.d_value[n],l=this.d_value.filter(function(x,S){return S!==n}).map(function(x){return r.getOptionValue(x)});this.updateModel(e,l),this.$emit("item-unselect",{originalEvent:e,value:u}),this.$emit("option-unselect",{originalEvent:e,value:u}),this.dirty=!0,N(this.multiple?this.$refs.focusInput:this.$refs.focusInput.$el)},changeFocusedOptionIndex:function(e,n){this.focusedOptionIndex!==n&&(this.focusedOptionIndex=n,this.scrollInView(),this.selectOnFocus&&this.onOptionSelect(e,this.visibleOptions[n],!1))},scrollInView:function(){var e=this,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:-1;this.$nextTick(function(){var r=n!==-1?"".concat(e.id,"_").concat(n):e.focusedOptionId,u=Ye(e.list,'li[id="'.concat(r,'"]'));u?u.scrollIntoView&&u.scrollIntoView({block:"nearest",inline:"start"}):e.virtualScrollerDisabled||e.virtualScroller&&e.virtualScroller.scrollToIndex(n!==-1?n:e.focusedOptionIndex)})},autoUpdateModel:function(){this.selectOnFocus&&this.autoOptionFocus&&!this.$filled&&(this.focusedOptionIndex=this.findFirstFocusedOptionIndex(),this.onOptionSelect(null,this.visibleOptions[this.focusedOptionIndex],!1))},updateModel:function(e,n){this.writeValue(n,e),this.$emit("change",{originalEvent:e,value:n})},flatOptions:function(e){var n=this;return(e||[]).reduce(function(r,u,l){r.push({optionGroup:u,group:!0,index:l});var x=n.getOptionGroupChildren(u);return x&&x.forEach(function(S){return r.push(S)}),r},[])},overlayRef:function(e){this.overlay=e},listRef:function(e,n){this.list=e,n&&n(e)},virtualScrollerRef:function(e){this.virtualScroller=e}},computed:{visibleOptions:function(){return this.optionGroupLabel?this.flatOptions(this.suggestions):this.suggestions||[]},inputValue:function(){if(this.$filled)if(_e(this.d_value)==="object"){var e=this.getOptionLabel(this.d_value);return e??this.d_value}else return this.d_value;else return""},hasSelectedOption:function(){return this.$filled},equalityKey:function(){return this.dataKey},searchResultMessageText:function(){return fe(this.visibleOptions)&&this.overlayVisible?this.searchMessageText.replaceAll("{0}",this.visibleOptions.length):this.emptySearchMessageText},searchMessageText:function(){return this.searchMessage||this.$primevue.config.locale.searchMessage||""},emptySearchMessageText:function(){return this.emptySearchMessage||this.$primevue.config.locale.emptySearchMessage||""},selectionMessageText:function(){return this.selectionMessage||this.$primevue.config.locale.selectionMessage||""},emptySelectionMessageText:function(){return this.emptySelectionMessage||this.$primevue.config.locale.emptySelectionMessage||""},selectedMessageText:function(){return this.$filled?this.selectionMessageText.replaceAll("{0}",this.multiple?this.d_value.length:"1"):this.emptySelectionMessageText},listAriaLabel:function(){return this.$primevue.config.locale.aria?this.$primevue.config.locale.aria.listLabel:void 0},focusedOptionId:function(){return this.focusedOptionIndex!==-1?"".concat(this.id,"_").concat(this.focusedOptionIndex):null},focusedMultipleOptionId:function(){return this.focusedMultipleOptionIndex!==-1?"".concat(this.id,"_multiple_option_").concat(this.focusedMultipleOptionIndex):null},ariaSetSize:function(){var e=this;return this.visibleOptions.filter(function(n){return!e.isOptionGroup(n)}).length},virtualScrollerDisabled:function(){return!this.virtualScrollerOptions},panelId:function(){return this.id+"_panel"}},components:{InputText:j,VirtualScroller:It,Portal:yt,ChevronDownIcon:Ot,SpinnerIcon:_t,Chip:kt},directives:{ripple:wt}};function ue(t){"@babel/helpers - typeof";return ue=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ue(t)}function Te(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(u){return Object.getOwnPropertyDescriptor(t,u).enumerable})),n.push.apply(n,r)}return n}function Fe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Te(Object(n),!0).forEach(function(r){jt(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Te(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jt(t,e,n){return(e=Bt(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Bt(t){var e=$t(t,"string");return ue(e)=="symbol"?e:e+""}function $t(t,e){if(ue(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ue(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ut=["aria-activedescendant"],Rt=["id","aria-label","aria-setsize","aria-posinset"],zt=["id","placeholder","tabindex","disabled","aria-label","aria-labelledby","aria-expanded","aria-controls","aria-activedescendant","aria-invalid"],Nt=["disabled","aria-expanded","aria-controls"],Gt=["id"],qt=["id","aria-label"],Ht=["id"],Wt=["id","aria-label","aria-selected","aria-disabled","aria-setsize","aria-posinset","onClick","onMousemove","data-p-selected","data-p-focus","data-p-disabled"];function Xt(t,e,n,r,u,l){var x=le("InputText"),S=le("Chip"),D=le("SpinnerIcon"),U=le("VirtualScroller"),q=le("Portal"),c=at("ripple");return m(),b("div",_({ref:"container",class:t.cx("root"),style:t.sx("root"),onClick:e[11]||(e[11]=function(){return l.onContainerClick&&l.onContainerClick.apply(l,arguments)})},t.ptmi("root")),[t.multiple?V("",!0):(m(),Q(x,{key:0,ref:"focusInput",id:t.inputId,type:"text",name:t.$formName,class:se([t.cx("pcInputText"),t.inputClass]),style:rt(t.inputStyle),value:l.inputValue,placeholder:t.placeholder,tabindex:t.disabled?-1:t.tabindex,fluid:t.$fluid,disabled:t.disabled,size:t.size,invalid:t.invalid,variant:t.variant,autocomplete:"off",role:"combobox","aria-label":t.ariaLabel,"aria-labelledby":t.ariaLabelledby,"aria-haspopup":"listbox","aria-autocomplete":"list","aria-expanded":u.overlayVisible,"aria-controls":l.panelId,"aria-activedescendant":u.focused?l.focusedOptionId:void 0,onFocus:l.onFocus,onBlur:l.onBlur,onKeydown:l.onKeyDown,onInput:l.onInput,onChange:l.onChange,unstyled:t.unstyled,pt:t.ptm("pcInputText")},null,8,["id","name","class","style","value","placeholder","tabindex","fluid","disabled","size","invalid","variant","aria-label","aria-labelledby","aria-expanded","aria-controls","aria-activedescendant","onFocus","onBlur","onKeydown","onInput","onChange","unstyled","pt"])),t.multiple?(m(),b("ul",_({key:1,ref:"multiContainer",class:t.cx("inputMultiple"),tabindex:"-1",role:"listbox","aria-orientation":"horizontal","aria-activedescendant":u.focused?l.focusedMultipleOptionId:void 0,onFocus:e[5]||(e[5]=function(){return l.onMultipleContainerFocus&&l.onMultipleContainerFocus.apply(l,arguments)}),onBlur:e[6]||(e[6]=function(){return l.onMultipleContainerBlur&&l.onMultipleContainerBlur.apply(l,arguments)}),onKeydown:e[7]||(e[7]=function(){return l.onMultipleContainerKeyDown&&l.onMultipleContainerKeyDown.apply(l,arguments)})},t.ptm("inputMultiple")),[(m(!0),b(Y,null,ae(t.d_value,function(f,C){return m(),b("li",_({key:"".concat(C,"_").concat(l.getOptionLabel(f)),id:u.id+"_multiple_option_"+C,class:t.cx("chipItem",{i:C}),role:"option","aria-label":l.getOptionLabel(f),"aria-selected":!0,"aria-setsize":t.d_value.length,"aria-posinset":C+1,ref_for:!0},t.ptm("chipItem")),[F(t.$slots,"chip",_({class:t.cx("pcChip"),value:f,index:C,removeCallback:function(A){return l.removeOption(A,C)},ref_for:!0},t.ptm("pcChip")),function(){return[d(S,{class:se(t.cx("pcChip")),label:l.getOptionLabel(f),removeIcon:t.chipIcon||t.removeTokenIcon,removable:"",unstyled:t.unstyled,onRemove:function(A){return l.removeOption(A,C)},pt:t.ptm("pcChip")},{removeicon:T(function(){return[F(t.$slots,t.$slots.chipicon?"chipicon":"removetokenicon",{class:se(t.cx("chipIcon")),index:C,removeCallback:function(A){return l.removeOption(A,C)}})]}),_:2},1032,["class","label","removeIcon","unstyled","onRemove","pt"])]})],16,Rt)}),128)),i("li",_({class:t.cx("inputChip"),role:"option"},t.ptm("inputChip")),[i("input",_({ref:"focusInput",id:t.inputId,type:"text",style:t.inputStyle,class:t.inputClass,placeholder:t.placeholder,tabindex:t.disabled?-1:t.tabindex,disabled:t.disabled,autocomplete:"off",role:"combobox","aria-label":t.ariaLabel,"aria-labelledby":t.ariaLabelledby,"aria-haspopup":"listbox","aria-autocomplete":"list","aria-expanded":u.overlayVisible,"aria-controls":u.id+"_list","aria-activedescendant":u.focused?l.focusedOptionId:void 0,"aria-invalid":t.invalid||void 0,onFocus:e[0]||(e[0]=function(){return l.onFocus&&l.onFocus.apply(l,arguments)}),onBlur:e[1]||(e[1]=function(){return l.onBlur&&l.onBlur.apply(l,arguments)}),onKeydown:e[2]||(e[2]=function(){return l.onKeyDown&&l.onKeyDown.apply(l,arguments)}),onInput:e[3]||(e[3]=function(){return l.onInput&&l.onInput.apply(l,arguments)}),onChange:e[4]||(e[4]=function(){return l.onChange&&l.onChange.apply(l,arguments)})},t.ptm("input")),null,16,zt)],16)],16,Ut)):V("",!0),u.searching||t.loading?F(t.$slots,t.$slots.loader?"loader":"loadingicon",{key:2,class:se(t.cx("loader"))},function(){return[t.loader||t.loadingIcon?(m(),b("i",_({key:0,class:["pi-spin",t.cx("loader"),t.loader,t.loadingIcon],"aria-hidden":"true"},t.ptm("loader")),null,16)):(m(),Q(D,_({key:1,class:t.cx("loader"),spin:"","aria-hidden":"true"},t.ptm("loader")),null,16,["class"]))]}):V("",!0),F(t.$slots,t.$slots.dropdown?"dropdown":"dropdownbutton",{toggleCallback:function(C){return l.onDropdownClick(C)}},function(){return[t.dropdown?(m(),b("button",_({key:0,ref:"dropdownButton",type:"button",class:[t.cx("dropdown"),t.dropdownClass],disabled:t.disabled,"aria-haspopup":"listbox","aria-expanded":u.overlayVisible,"aria-controls":l.panelId,onClick:e[8]||(e[8]=function(){return l.onDropdownClick&&l.onDropdownClick.apply(l,arguments)})},t.ptm("dropdown")),[F(t.$slots,"dropdownicon",{class:se(t.dropdownIcon)},function(){return[(m(),Q(ut(t.dropdownIcon?"span":"ChevronDownIcon"),_({class:t.dropdownIcon},t.ptm("dropdownIcon")),null,16,["class"]))]})],16,Nt)):V("",!0)]}),i("span",_({role:"status","aria-live":"polite",class:"p-hidden-accessible"},t.ptm("hiddenSearchResult"),{"data-p-hidden-accessible":!0}),h(l.searchResultMessageText),17),d(q,{appendTo:t.appendTo},{default:T(function(){return[d(dt,_({name:"p-connected-overlay",onEnter:l.onOverlayEnter,onAfterEnter:l.onOverlayAfterEnter,onLeave:l.onOverlayLeave,onAfterLeave:l.onOverlayAfterLeave},t.ptm("transition")),{default:T(function(){return[u.overlayVisible?(m(),b("div",_({key:0,ref:l.overlayRef,id:l.panelId,class:[t.cx("overlay"),t.panelClass,t.overlayClass],style:Fe(Fe({},t.panelStyle),t.overlayStyle),onClick:e[9]||(e[9]=function(){return l.onOverlayClick&&l.onOverlayClick.apply(l,arguments)}),onKeydown:e[10]||(e[10]=function(){return l.onOverlayKeyDown&&l.onOverlayKeyDown.apply(l,arguments)})},t.ptm("overlay")),[F(t.$slots,"header",{value:t.d_value,suggestions:l.visibleOptions}),i("div",_({class:t.cx("listContainer"),style:{"max-height":l.virtualScrollerDisabled?t.scrollHeight:""}},t.ptm("listContainer")),[d(U,_({ref:l.virtualScrollerRef},t.virtualScrollerOptions,{style:{height:t.scrollHeight},items:l.visibleOptions,tabindex:-1,disabled:l.virtualScrollerDisabled,pt:t.ptm("virtualScroller")}),ct({content:T(function(f){var C=f.styleClass,H=f.contentRef,A=f.items,y=f.getItemOptions,K=f.contentStyle,P=f.itemSize;return[i("ul",_({ref:function(k){return l.listRef(k,H)},id:u.id+"_list",class:[t.cx("list"),C],style:K,role:"listbox","aria-label":l.listAriaLabel},t.ptm("list")),[(m(!0),b(Y,null,ae(A,function(g,k){return m(),b(Y,{key:l.getOptionRenderKey(g,l.getOptionIndex(k,y))},[l.isOptionGroup(g)?(m(),b("li",_({key:0,id:u.id+"_"+l.getOptionIndex(k,y),style:{height:P?P+"px":void 0},class:t.cx("optionGroup"),role:"option",ref_for:!0},t.ptm("optionGroup")),[F(t.$slots,"optiongroup",{option:g.optionGroup,index:l.getOptionIndex(k,y)},function(){return[G(h(l.getOptionGroupLabel(g.optionGroup)),1)]})],16,Ht)):pt((m(),b("li",_({key:1,id:u.id+"_"+l.getOptionIndex(k,y),style:{height:P?P+"px":void 0},class:t.cx("option",{option:g,i:k,getItemOptions:y}),role:"option","aria-label":l.getOptionLabel(g),"aria-selected":l.isSelected(g),"aria-disabled":l.isOptionDisabled(g),"aria-setsize":l.ariaSetSize,"aria-posinset":l.getAriaPosInset(l.getOptionIndex(k,y)),onClick:function(W){return l.onOptionSelect(W,g)},onMousemove:function(W){return l.onOptionMouseMove(W,l.getOptionIndex(k,y))},"data-p-selected":l.isSelected(g),"data-p-focus":u.focusedOptionIndex===l.getOptionIndex(k,y),"data-p-disabled":l.isOptionDisabled(g),ref_for:!0},l.getPTOptions(g,y,k,"option")),[F(t.$slots,"option",{option:g,index:l.getOptionIndex(k,y)},function(){return[G(h(l.getOptionLabel(g)),1)]})],16,Wt)),[[c]])],64)}),128)),t.showEmptyMessage&&(!A||A&&A.length===0)?(m(),b("li",_({key:0,class:t.cx("emptyMessage"),role:"option"},t.ptm("emptyMessage")),[F(t.$slots,"empty",{},function(){return[G(h(l.searchResultMessageText),1)]})],16)):V("",!0)],16,qt)]}),_:2},[t.$slots.loader?{name:"loader",fn:T(function(f){var C=f.options;return[F(t.$slots,"loader",{options:C})]}),key:"0"}:void 0]),1040,["style","items","disabled","pt"])],16),F(t.$slots,"footer",{value:t.d_value,suggestions:l.visibleOptions}),i("span",_({role:"status","aria-live":"polite",class:"p-hidden-accessible"},t.ptm("hiddenSelectedMessage"),{"data-p-hidden-accessible":!0}),h(l.selectedMessageText),17)],16,Gt)):V("",!0)]}),_:3},16,["onEnter","onAfterEnter","onLeave","onAfterLeave"])]}),_:3},8,["appendTo"])],16)}Be.render=Xt;const Zt={class:"flex items-center gap-2"},Jt={class:"space-y-3"},Qt={class:"flex justify-end gap-2 pt-2"},Yt={class:"space-y-3"},en={class:"flex justify-end gap-2 pt-2"},tn={__name:"SessionBar",props:{currentSession:{type:Object,default:null},branches:{type:Array,default:()=>[]},warehouses:{type:Array,default:()=>[]}},setup(t){const e=Ee(),n=je(),r=M(()=>n.props.currentSession),u=I(!1),l=I(!1),x=I({branch_id:null,warehouse_id:null,opening_cash:0,note:""}),S=I({closing_cash:0,note:""});function D(){me.post(route("pos.session.open"),x.value,{preserveScroll:!0,onSuccess:()=>{e.add({severity:"success",summary:"Opened",detail:"POS session opened",life:2e3}),u.value=!1,window.location.reload()},onError:()=>{e.add({severity:"error",summary:"Error",detail:"Failed to open session",life:2500})}})}function U(){me.post(route("pos.session.close"),S.value,{preserveScroll:!0,onSuccess:()=>{e.add({severity:"success",summary:"Closed",detail:"POS session closed",life:2e3}),l.value=!1,window.location.reload()},onError:()=>{e.add({severity:"error",summary:"Error",detail:"Failed to close session",life:2500})}})}return(q,c)=>(m(),b("div",Zt,[r.value?(m(),Q(p(L),{key:1,label:"Close POS Session",icon:"pi pi-stop",class:"p-button-danger",onClick:c[1]||(c[1]=f=>l.value=!0)})):(m(),Q(p(L),{key:0,label:"Open POS Session",icon:"pi pi-play",onClick:c[0]||(c[0]=f=>u.value=!0)})),d(p(we),{visible:u.value,"onUpdate:visible":c[7]||(c[7]=f=>u.value=f),modal:"",header:"Open POS Session",style:{width:"420px"}},{default:T(()=>[i("div",Jt,[i("div",null,[c[12]||(c[12]=i("label",{class:"text-sm font-medium"},"Branch *",-1)),d(p(re),{modelValue:x.value.branch_id,"onUpdate:modelValue":c[2]||(c[2]=f=>x.value.branch_id=f),options:t.branches,optionLabel:"name",optionValue:"id",class:"w-full"},null,8,["modelValue","options"])]),i("div",null,[c[13]||(c[13]=i("label",{class:"text-sm font-medium"},"Warehouse *",-1)),d(p(re),{modelValue:x.value.warehouse_id,"onUpdate:modelValue":c[3]||(c[3]=f=>x.value.warehouse_id=f),options:t.warehouses,optionLabel:"name",optionValue:"id",class:"w-full"},null,8,["modelValue","options"])]),i("div",null,[c[14]||(c[14]=i("label",{class:"text-sm font-medium"},"Opening Cash",-1)),d(p(J),{modelValue:x.value.opening_cash,"onUpdate:modelValue":c[4]||(c[4]=f=>x.value.opening_cash=f),class:"w-full",min:0},null,8,["modelValue"])]),i("div",null,[c[15]||(c[15]=i("label",{class:"text-sm font-medium"},"Note",-1)),d(p(j),{modelValue:x.value.note,"onUpdate:modelValue":c[5]||(c[5]=f=>x.value.note=f),class:"w-full"},null,8,["modelValue"])]),i("div",Qt,[d(p(L),{label:"Cancel",class:"p-button-text",onClick:c[6]||(c[6]=f=>u.value=!1)}),d(p(L),{label:"Open",icon:"pi pi-check",onClick:D})])])]),_:1},8,["visible"]),d(p(we),{visible:l.value,"onUpdate:visible":c[11]||(c[11]=f=>l.value=f),modal:"",header:"Close POS Session",style:{width:"420px"}},{default:T(()=>[i("div",Yt,[c[18]||(c[18]=i("div",{class:"text-sm text-slate-600"}," Closing session will stop sales until you open a new session. ",-1)),i("div",null,[c[16]||(c[16]=i("label",{class:"text-sm font-medium"},"Closing Cash",-1)),d(p(J),{modelValue:S.value.closing_cash,"onUpdate:modelValue":c[8]||(c[8]=f=>S.value.closing_cash=f),class:"w-full",min:0},null,8,["modelValue"])]),i("div",null,[c[17]||(c[17]=i("label",{class:"text-sm font-medium"},"Note",-1)),d(p(j),{modelValue:S.value.note,"onUpdate:modelValue":c[9]||(c[9]=f=>S.value.note=f),class:"w-full"},null,8,["modelValue"])]),i("div",en,[d(p(L),{label:"Cancel",class:"p-button-text",onClick:c[10]||(c[10]=f=>l.value=!1)}),d(p(L),{label:"Close",icon:"pi pi-check",class:"p-button-danger",onClick:U})])])]),_:1},8,["visible"])]))}},nn={class:"h-[95vh] flex overflow-y-auto"},on={class:"flex-1 flex flex-col overflow-hidden bg-white rounded-2xl shadow-sm border border-slate-100 p-4"},ln={class:"h-16 bg-white border-b border-slate-200 flex items-center justify-between px-6"},sn={class:"text-xs text-slate-400"},an={class:"flex items-center gap-3 text-xs text-slate-500"},rn={class:"flex items-center justify-between mb-3"},un={class:"px-3 py-1 rounded-full text-lg mb-3 bg-emerald-50 text-emerald-600 flex items-center gap-2"},dn={class:"flex-1 flex flex-col lg:flex-row overflow-hidden"},cn={class:"flex-1 p-5 overflow-y-auto"},pn={class:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-3 mb-4"},fn={class:"flex items-center gap-3"},mn={class:"grid gap-4 grid-cols-2 md:grid-cols-3 lg:grid-cols-4"},hn=["onClick"],vn={class:"relative rounded-xl bg-white mb-3 h-28 flex items-center justify-center overflow-hidden"},bn={key:0,class:"text-slate-300 text-xs uppercase tracking-wide"},yn=["src"],gn={class:"absolute top-2 left-2"},xn={key:2,class:"absolute top-2 right-2 bg-rose-600 text-white text-[11px] font-semibold px-2 py-1 rounded-full"},On={class:"flex-1 flex flex-col justify-between gap-2"},wn={class:"text-sm font-semibold text-slate-800 truncate"},_n={class:"text-xs text-slate-400 mt-0.5 truncate"},kn={class:"flex items-end justify-between mt-1 gap-2"},In={class:"min-w-0"},Sn={class:"text-base font-bold text-emerald-600"},Cn={key:0,class:"text-xs text-slate-400 flex items-center gap-2"},Vn={class:"line-through"},Ln={class:"text-rose-600 font-semibold"},Mn={key:0,class:"col-12 text-center text-slate-400 text-sm py-10"},Dn={class:"w-full lg:w-96 bg-slate-50 border-l border-slate-200 p-4 flex flex-col overflow-y-auto h-1/2 lg:h-auto border-t lg:border-t-0"},An={class:"flex flex-col flex-1"},Kn={class:"flex items-center justify-between mb-3 pb-3 border-b border-slate-100"},Pn={class:"text-xs text-slate-400"},Tn={class:"px-2.5 py-1 rounded-full text-xs bg-emerald-50 text-emerald-600 font-medium"},Fn={class:"mb-4"},En={class:"flex flex-col"},jn={class:"font-medium"},Bn={class:"text-xs text-gray-500"},$n={class:"mt-2"},Un={class:"flex-1 overflow-y-auto space-y-3 pr-1 mb-3"},Rn={class:"flex-1"},zn={class:"text-xs font-semibold text-slate-800"},Nn={class:"text-[11px] text-slate-400 mb-1"},Gn={class:"text-[11px] text-slate-500 mb-1"},qn={class:"font-semibold text-slate-700"},Hn={key:0,class:"ml-2 text-rose-600"},Wn={class:"flex items-center gap-2"},Xn={class:"text-[11px] text-slate-400"},Zn={class:"text-right ml-2"},Jn={class:"text-xs font-semibold text-slate-800"},Qn={key:0,class:"text-center text-xs text-slate-400 py-6"},Yn={class:"mb-3 p-3 rounded-2xl bg-white border border-slate-200"},eo={class:"flex items-center justify-between mb-2"},to={key:0,class:"text-sm font-semibold text-rose-600"},no={class:"flex items-center gap-2 mb-1 min-w-0"},oo={class:"border-t border-slate-200 pt-3 space-y-1"},io={class:"flex items-center justify-between text-xs text-slate-500"},lo={class:"font-medium text-slate-700"},so={class:"flex items-center justify-between text-xs text-slate-500"},ao={class:"font-medium text-rose-600"},ro={class:"flex items-center justify-between text-xs text-slate-500"},uo={class:"font-medium text-slate-700"},co={class:"flex items-center justify-between text-sm mt-2"},po={class:"text-lg font-bold text-emerald-600"},fo={class:"mt-3 space-y-2"},mo={class:"flex items-center justify-between"},ho={class:"space-y-3 max-h-72 overflow-y-auto pr-1"},vo={class:"flex items-center gap-2"},bo={class:"grid grid-cols-1 gap-2 mt-2"},yo={key:0,class:"mt-3 p-3 rounded-xl bg-slate-50 border border-slate-200"},go={class:"grid grid-cols-1 gap-2"},xo={class:"flex items-center justify-between text-xs text-slate-500 mt-1"},Oo={class:"font-semibold text-slate-800"},wo={class:"flex items-center justify-between text-xs text-slate-500"},_o={class:"font-semibold text-slate-800"},ko={class:"flex items-center justify-between text-xs text-slate-500"},Io={class:"font-semibold text-rose-600"},So={class:"grid grid-cols-1 gap-2 mt-4"},Co={key:0,class:"space-y-3"},Vo={class:"text-sm font-semibold text-slate-800"},Lo={key:0,class:"p-3 rounded-xl border border-slate-200 bg-slate-50"},Mo={class:"flex items-end gap-2"},Do={class:"text-lg font-bold text-emerald-600"},Ao={key:0,class:"text-sm text-slate-400 line-through"},Ko={key:1,class:"text-xs text-rose-600 font-semibold"},Po={class:"flex justify-end gap-2 pt-2"},ii={__name:"Index",props:{products:{type:Array,default:()=>[]},customers:{type:Array,default:()=>[]},paymentMethods:{type:Array,default:()=>[]},currentSession:{type:Object,default:null},warehouses:{type:Array,default:()=>[]},branches:{type:Array,default:()=>[]},order:{type:Object,default:null}},setup(t){const e=t,n=Ee();je();const r=I(e.currentSession),u=I(new Date);let l=null;ft(()=>{l=setInterval(()=>u.value=new Date,1e3)}),mt(()=>{l&&clearInterval(l)});const x=I(""),S=I(""),D=I(null),U=I([]),q=I(!1);let c=null,f=null;function C(a){if(!a)return"Walk-in customer";const o=a.phone?`  ${a.phone}`:"",s=a.email?`  ${a.email}`:"";return`${a.name||"Customer"}${o}${s}`}function H(a){const o=(a.query||"").trim();if(!o){U.value=[];return}c&&clearTimeout(c),c=setTimeout(()=>{A(o)},300)}xe(D,a=>console.log("selectedCustomer =",a));async function A(a){try{q.value=!0,f&&f.abort(),f=new AbortController;const o=route("pos.customers.search",{q:a}),s=await fetch(o,{method:"GET",headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"},signal:f.signal});if(!s.ok)throw new Error("Customer search failed");const w=await s.json();U.value=Array.isArray(w)?w:w.data||[]}catch(o){if(String(o==null?void 0:o.name)==="AbortError")return;n.add({severity:"warn",summary:"Search error",detail:"Could not load customers",life:2e3})}finally{q.value=!1}}const y=I([]),K=I("none"),P=I(0),g=a=>Number(a||0),k=a=>g(a.base_price),B=a=>{const o=k(a),s=g(a.base_discount_price);return s>0&&s<o?s:null},W=a=>{const o=k(a),s=B(a);return!s||o<=0?0:Math.round((o-s)/o*100)},X=a=>g(a.price),Z=a=>{const o=X(a),s=g(a.discount_price);return s>0&&s<o?s:null},$e=a=>{const o=X(a),s=Z(a);return!s||o<=0?0:Math.round((o-s)/o*100)},Ie=M(()=>{let a=e.products||[];if(!x.value)return a;const o=x.value.toLowerCase();return a.filter(s=>s.name&&s.name.toLowerCase().includes(o)||s.sku&&s.sku.toLowerCase().includes(o)||s.barcode&&s.barcode.toLowerCase().includes(o))}),ee=I(!1),R=I(null),z=I(null),Ue=M(()=>{const a=R.value;return a?(a.variations||[]).map(o=>({label:o.sku||`Variation #${o.id}`,value:o.id,raw:o})):[]}),$=M(()=>{const a=R.value;return!a||!z.value?null:(a.variations||[]).find(o=>o.id===z.value)});xe(()=>e.order,a=>{if(a){a.customer&&(D.value=a.customer),a.warranty_info&&(S.value=a.warranty_info);let o=0;a.items&&Array.isArray(a.items)&&(y.value=a.items.map(v=>{const O=Number(v.quantity)||1,ne=Number(v.unit_price)||0,ce=ne,oe=Number(v.discount_amount)||0,pe=Number(v.tax_amount)||0;return o+=oe,{product_id:v.product_id,variation_id:v.variation_id,name:v.name,sku:v.sku,unit_price:ne,sell_price:ce,quantity:O,discount_price:0,line_discount_amount:oe,tax_amount:pe}}));const w=(Number(a.discount_amount)||0)-o;w>.01?(K.value="fixed",P.value=w):(K.value="none",P.value=0)}},{immediate:!0});function Se(){return r.value?!0:(n.add({severity:"warn",summary:"No session",detail:"Please open POS session first",life:2500}),!1)}function Re(a){if(Se()){if(a.type==="variable"){R.value=a,z.value=null,ee.value=!0;return}ze(a)}}function ze(a){const o=B(a)??k(a),s=y.value.find(w=>w.product_id===a.id&&!w.variation_id);if(s){s.quantity+=1;return}y.value.push({product_id:a.id,variation_id:null,name:a.name,sku:a.sku,unit_price:k(a),discount_price:B(a),sell_price:o,quantity:1,line_discount_amount:0,tax_amount:0})}function Ne(){const a=R.value,o=$.value;if(!a||!o){n.add({severity:"warn",summary:"Select variation",detail:"Please select a variation first",life:2e3});return}const s=Z(o)??X(o),w=y.value.find(v=>v.product_id===a.id&&v.variation_id===o.id);w?w.quantity+=1:y.value.push({product_id:a.id,variation_id:o.id,name:`${a.name} (${o.sku})`,sku:o.sku||a.sku,unit_price:X(o),discount_price:Z(o),sell_price:s,quantity:1,line_discount_amount:0,tax_amount:0}),ee.value=!1,R.value=null,z.value=null}function Ge(a){y.value.splice(a,1)}const he=M(()=>y.value.reduce((a,o)=>{const s=g(o.sell_price||o.unit_price);return a+s*g(o.quantity)},0)),qe=M(()=>y.value.reduce((a,o)=>a+g(o.line_discount_amount),0)),ve=M(()=>{const a=he.value,o=g(P.value);if(K.value==="percent"){const s=Math.min(Math.max(o,0),100);return a*s/100}return K.value==="fixed"?Math.min(Math.max(o,0),a):0}),Ce=M(()=>qe.value+ve.value),Ve=M(()=>y.value.reduce((a,o)=>a+g(o.tax_amount),0)),de=M(()=>he.value-Ce.value+Ve.value);let be=1;const E=I([{id:be++,payment_method_id:null,amount:0,transaction_ref:null,notes:null,meta:{customer_bank_name:null,customer_account_no:null,received_to_bank_account_id:null,txn_ref:null}}]);function Le(){return{id:be++,payment_method_id:null,amount:0,transaction_ref:null,notes:null,meta:{customer_bank_name:null,customer_account_no:null,received_to_bank_account_id:null,txn_ref:null}}}function He(){E.value.push(Le())}function We(a){if(E.value.length===1){E.value=[Le()];return}E.value.splice(a,1)}const te=M(()=>E.value.reduce((a,o)=>a+g(o.amount),0)),Me=M(()=>Math.max(0,de.value-te.value)),Xe=M(()=>Math.max(0,te.value-de.value)),Ze=M(()=>(e.paymentMethods||[]).filter(o=>(o.name||"").toLowerCase().includes("bank")).map(o=>o.id));function ye(a){return a!=null&&a.payment_method_id?Ze.value.includes(a.payment_method_id):!1}xe(()=>E.value.map(a=>a.payment_method_id),()=>{E.value.forEach(a=>{ye(a)||(a.meta=null)})});function ge(a="complete"){var w,v;if(!Se())return;if(!y.value.length){n.add({severity:"warn",summary:"Empty cart",detail:"Add items first",life:2e3});return}const o=E.value.filter(O=>O.payment_method_id&&g(O.amount)>0);if(a!=="draft"){if(!o.length){n.add({severity:"warn",summary:"Payment required",detail:"Add at least one payment",life:2200});return}if(te.value<=0){n.add({severity:"warn",summary:"Payment required",detail:"Payment must be greater than 0",life:2200});return}}const s={action:a,pos_session_id:r.value.id,branch_id:r.value.branch_id,warehouse_id:r.value.warehouse_id,customer_id:((w=D.value)==null?void 0:w.id)??null,items:y.value.map(O=>({product_id:O.product_id,variation_id:O.variation_id,quantity:O.quantity,unit_price:O.sell_price,discount_amount:O.line_discount_amount||0,tax_amount:O.tax_amount||0})),payments:a==="draft"?[]:o.map(O=>{var ne,ce,oe,pe;return{payment_method_id:O.payment_method_id,amount:O.amount,transaction_ref:O.transaction_ref||null,notes:O.notes||null,meta:ye(O)?{customer_bank_name:((ne=O.meta)==null?void 0:ne.customer_bank_name)||null,customer_account_no:((ce=O.meta)==null?void 0:ce.customer_account_no)||null,received_to_bank_account_id:((oe=O.meta)==null?void 0:oe.received_to_bank_account_id)||null,txn_ref:((pe=O.meta)==null?void 0:pe.txn_ref)||null}:null}}),order_discount_type:K.value,order_discount_value:P.value,total_amount:de.value,paid_amount:te.value,due_amount:Me.value,notes:null,warranty_info:S.value};(v=e.order)!=null&&v.id&&e.order.status==="draft"?me.put(route("pos.orders.update",e.order.id),s,{preserveScroll:!0,onSuccess:De}):me.post(route("pos.orders.store"),s,{preserveScroll:!0,onSuccess:De})}function De(a){n.add({severity:"success",summary:"Success",detail:"Order saved",life:2e3}),y.value=[],D.value=null,K.value="none",P.value=0,S.value="",E.value=[{id:be++,payment_method_id:null,amount:0}]}return(a,o)=>(m(),Q(Je,null,{default:T(()=>[i("div",nn,[i("main",on,[i("header",ln,[i("div",null,[o[11]||(o[11]=i("h1",{class:"text-lg font-semibold text-slate-800"}," Point of Sale ",-1)),i("p",sn,h(r.value?`Active Session #${r.value.id}`:"No active session"),1)]),i("div",an,[i("div",rn,[d(tn,{currentSession:e.currentSession,branches:e.branches,warehouses:e.warehouses},null,8,["currentSession","branches","warehouses"])]),i("span",un,[o[12]||(o[12]=i("i",{class:"pi pi-clock text-4xl"},null,-1)),G(" "+h(u.value.toLocaleTimeString()),1)])])]),i("div",dn,[i("section",cn,[i("div",pn,[o[14]||(o[14]=i("div",null,[i("h2",{class:"text-xl font-semibold text-slate-800"}," Product Catalog "),i("p",{class:"text-xs text-slate-400"}," Click a product card to add it. Variable products will ask for variation. ")],-1)),i("div",fn,[d(p(St),{class:"w-full max-w-md"},{default:T(()=>[d(p(Ct),null,{default:T(()=>o[13]||(o[13]=[i("i",{class:"pi pi-search"},null,-1)])),_:1}),d(p(j),{modelValue:x.value,"onUpdate:modelValue":o[0]||(o[0]=s=>x.value=s),placeholder:"Search product, SKU, barcode",class:"w-full text-sm"},null,8,["modelValue"])]),_:1})])]),i("div",mn,[(m(!0),b(Y,null,ae(Ie.value,s=>(m(),b("div",{key:s.id,class:"col-12 sm:col-6 md:col-4 xl:col-3"},[i("div",{class:"rounded-2xl shadow-sm border border-slate-300 bg-slate-100 p-3 flex flex-col h-full cursor-pointer hover:shadow-md hover:-translate-y-0.5 transition",onClick:w=>Re(s)},[i("div",vn,[s.thumbnail?(m(),b("img",{key:1,src:p(ht)(s.thumbnail),alt:"",class:"h-full object-contain"},null,8,yn)):(m(),b("span",bn,"Image")),i("div",gn,[d(p(vt),{severity:s.type==="variable"?"info":"secondary",value:s.type},null,8,["severity","value"])]),B(s)?(m(),b("div",xn," -"+h(W(s))+"% ",1)):V("",!0)]),i("div",On,[i("div",null,[i("div",wn,h(s.name),1),i("div",_n,h(s.sku),1)]),i("div",kn,[i("div",In,[i("div",Sn,h((B(s)??k(s)).toFixed(2)),1),B(s)?(m(),b("div",Cn,[i("span",Vn,h(k(s).toFixed(2)),1),i("span",Ln,"Save "+h(W(s))+"%",1)])):V("",!0)]),d(p(L),{icon:"pi pi-plus",class:"p-button-rounded p-button-sm p-button-success",type:"button"})])])],8,hn)]))),128)),Ie.value.length?V("",!0):(m(),b("div",Mn," No products found "))])]),i("aside",Dn,[i("div",An,[i("div",Kn,[i("div",null,[o[15]||(o[15]=i("h3",{class:"text-base font-semibold text-slate-800"}," Order Summary ",-1)),i("p",Pn,h(D.value?D.value.name:"Walk-in customer"),1)]),i("span",Tn,h(y.value.length)+" items ",1)]),i("div",Fn,[o[17]||(o[17]=i("p",{class:"text-xs text-slate-500 mb-1"}," Customer Search ",-1)),d(p(Be),{modelValue:D.value,"onUpdate:modelValue":o[1]||(o[1]=s=>D.value=s),suggestions:U.value,optionLabel:C,class:"w-full",inputClass:"w-full text-sm",placeholder:"Search by name or phone",loading:q.value,onComplete:H},{option:T(s=>[i("div",En,[i("span",jn,h(s.option.name),1),i("span",Bn,h(s.option.phone||"No phone"),1)])]),_:1},8,["modelValue","suggestions","loading"]),i("div",$n,[o[16]||(o[16]=i("label",{class:"text-xs text-slate-500"},"Warranty Info",-1)),d(p(Vt),{modelValue:S.value,"onUpdate:modelValue":o[2]||(o[2]=s=>S.value=s),rows:"2",class:"w-full text-sm mt-1",placeholder:"Warranty details..."},null,8,["modelValue"])])]),i("div",Un,[(m(!0),b(Y,null,ae(y.value,(s,w)=>(m(),b("div",{key:`${s.product_id}-${s.variation_id||"simple"}`,class:"flex items-start justify-between bg-white border-slate-300 border rounded-xl px-3 py-2"},[i("div",Rn,[i("div",zn,h(s.name),1),i("div",Nn,h(s.sku),1),i("div",Gn,[i("span",qn,h(Number(s.sell_price||0).toFixed(2)),1),s.discount_price?(m(),b("span",Hn," (was "+h(Number(s.unit_price||0).toFixed(2))+") ",1)):V("",!0)]),i("div",Wn,[d(p(J),{modelValue:s.quantity,"onUpdate:modelValue":v=>s.quantity=v,min:1,inputClass:"!w-14 !text-xs",showButtons:"",buttonLayout:"horizontal",incrementButtonIcon:"pi pi-plus",decrementButtonIcon:"pi pi-minus",incrementButtonClass:"p-button-text p-button-sm",decrementButtonClass:"p-button-text p-button-sm"},null,8,["modelValue","onUpdate:modelValue"]),i("span",Xn," x "+h(Number(s.sell_price||0).toFixed(2)),1)])]),i("div",Zn,[i("div",Jn,h((Number(s.sell_price||0)*Number(s.quantity||0)).toFixed(2)),1),d(p(L),{icon:"pi pi-trash",class:"p-button-text p-button-danger p-button-sm mt-1",onClick:v=>Ge(w),type:"button"},null,8,["onClick"])])]))),128)),y.value.length?V("",!0):(m(),b("div",Qn," No items in order yet "))]),i("div",Yn,[i("div",eo,[o[18]||(o[18]=i("span",{class:"text-sm font-semibold text-slate-800"},"Order Discount",-1)),ve.value>0?(m(),b("span",to," -"+h(ve.value.toFixed(2)),1)):V("",!0)]),i("div",no,[d(p(re),{modelValue:K.value,"onUpdate:modelValue":o[3]||(o[3]=s=>K.value=s),options:[{label:"None",value:"none"},{label:"Percent %",value:"percent"},{label:"Fixed",value:"fixed"}],optionLabel:"label",optionValue:"value",class:"flex-1 min-w-0 text-xs"},null,8,["modelValue"]),d(p(J),{modelValue:P.value,"onUpdate:modelValue":o[4]||(o[4]=s=>P.value=s),min:0,class:"w-24 shrink-0",inputClass:"!text-xs !w-full",suffix:K.value==="percent"?"%":"",disabled:K.value==="none"},null,8,["modelValue","suffix","disabled"])])]),i("div",oo,[i("div",io,[o[19]||(o[19]=i("span",null,"Subtotal",-1)),i("span",lo,h(he.value.toFixed(2)),1)]),i("div",so,[o[20]||(o[20]=i("span",null,"Discount",-1)),i("span",ao,"-"+h(Ce.value.toFixed(2)),1)]),i("div",ro,[o[21]||(o[21]=i("span",null,"Tax",-1)),i("span",uo,h(Ve.value.toFixed(2)),1)]),i("div",co,[o[22]||(o[22]=i("span",{class:"font-semibold text-slate-800"},"Total Payable",-1)),i("span",po,h(de.value.toFixed(2)),1)])]),i("div",fo,[i("div",mo,[o[23]||(o[23]=i("span",{class:"text-xs text-slate-500"},"Payments",-1)),d(p(L),{icon:"pi pi-plus",class:"p-button-text p-button-sm",label:"Add",onClick:He,type:"button"})]),i("div",ho,[(m(!0),b(Y,null,ae(E.value,(s,w)=>(m(),b("div",{key:s.id,class:"bg-white border border-slate-200 rounded-xl p-3"},[i("div",vo,[d(p(re),{modelValue:s.payment_method_id,"onUpdate:modelValue":v=>s.payment_method_id=v,options:t.paymentMethods,optionLabel:"name",optionValue:"id",placeholder:"Method",class:"flex-1 text-xs"},null,8,["modelValue","onUpdate:modelValue","options"]),d(p(J),{modelValue:s.amount,"onUpdate:modelValue":v=>s.amount=v,min:0,class:"w-28",inputClass:"!text-xs"},null,8,["modelValue","onUpdate:modelValue"]),d(p(L),{icon:"pi pi-trash",class:"p-button-text p-button-danger p-button-sm",onClick:v=>We(w),type:"button"},null,8,["onClick"])]),i("div",bo,[d(p(j),{modelValue:s.transaction_ref,"onUpdate:modelValue":v=>s.transaction_ref=v,placeholder:"Transaction ref (optional)",class:"w-full text-xs"},null,8,["modelValue","onUpdate:modelValue"]),d(p(j),{modelValue:s.notes,"onUpdate:modelValue":v=>s.notes=v,placeholder:"Notes (optional)",class:"w-full text-xs"},null,8,["modelValue","onUpdate:modelValue"])]),ye(s)?(m(),b("div",yo,[o[24]||(o[24]=i("div",{class:"text-xs font-semibold text-slate-700 mb-2 flex items-center gap-2"},[i("i",{class:"pi pi-building"}),G(" Bank Details ")],-1)),i("div",go,[d(p(j),{modelValue:s.meta.customer_bank_name,"onUpdate:modelValue":v=>s.meta.customer_bank_name=v,placeholder:"Customer bank name",class:"w-full text-xs"},null,8,["modelValue","onUpdate:modelValue"]),d(p(j),{modelValue:s.meta.customer_account_no,"onUpdate:modelValue":v=>s.meta.customer_account_no=v,placeholder:"Customer account no",class:"w-full text-xs"},null,8,["modelValue","onUpdate:modelValue"]),d(p(J),{modelValue:s.meta.received_to_bank_account_id,"onUpdate:modelValue":v=>s.meta.received_to_bank_account_id=v,min:1,placeholder:"Received to bank account ID",class:"w-full",inputClass:"!text-xs"},null,8,["modelValue","onUpdate:modelValue"]),d(p(j),{modelValue:s.meta.txn_ref,"onUpdate:modelValue":v=>s.meta.txn_ref=v,placeholder:"Bank txn ref / cheque no",class:"w-full text-xs"},null,8,["modelValue","onUpdate:modelValue"])]),o[25]||(o[25]=i("div",{class:"text-[11px] text-slate-400 mt-2"},[G(" These fields go to "),i("b",null,"payments.*.meta"),G(" in backend. ")],-1))])):V("",!0)]))),128))]),i("div",xo,[o[26]||(o[26]=i("span",null,"Total Paid",-1)),i("span",Oo,h(te.value.toFixed(2)),1)]),i("div",wo,[o[27]||(o[27]=i("span",null,"Change",-1)),i("span",_o,h(Xe.value.toFixed(2)),1)]),i("div",ko,[o[28]||(o[28]=i("span",null,"Due",-1)),i("span",Io,h(Me.value.toFixed(2)),1)])]),i("div",So,[d(p(L),{label:"Save Draft",icon:"pi pi-save",class:"w-full",severity:"war",disabled:!y.value.length||!r.value,onClick:o[5]||(o[5]=s=>ge("draft")),type:"button"},null,8,["disabled"]),d(p(L),{label:"Complete",icon:"pi pi-check",class:"w-full",severity:"info",disabled:!y.value.length||!r.value,onClick:o[6]||(o[6]=s=>ge("complete")),type:"button"},null,8,["disabled"]),d(p(L),{label:"Complete & Print",icon:"pi pi-print",class:"w-full",disabled:!y.value.length||!r.value,onClick:o[7]||(o[7]=s=>ge("complete_print")),type:"button",severity:"success"},null,8,["disabled"])])])])])])]),d(p(we),{visible:ee.value,"onUpdate:visible":o[10]||(o[10]=s=>ee.value=s),modal:"",header:"Select Variation",style:{width:"420px"}},{default:T(()=>[R.value?(m(),b("div",Co,[i("div",Vo,h(R.value.name),1),o[30]||(o[30]=i("div",{class:"text-xs text-slate-500"}," Choose a variation to add to cart. ",-1)),d(p(re),{modelValue:z.value,"onUpdate:modelValue":o[8]||(o[8]=s=>z.value=s),options:Ue.value,optionLabel:"label",optionValue:"value",placeholder:"Select variation",class:"w-full",showClear:""},null,8,["modelValue","options"]),$.value?(m(),b("div",Lo,[o[29]||(o[29]=i("div",{class:"text-xs text-slate-500"},"Price",-1)),i("div",Mo,[i("div",Do,h((Z($.value)??X($.value)).toFixed(2)),1),Z($.value)?(m(),b("div",Ao,h(X($.value).toFixed(2)),1)):V("",!0),Z($.value)?(m(),b("div",Ko," -"+h($e($.value))+"% ",1)):V("",!0)])])):V("",!0),i("div",Po,[d(p(L),{label:"Cancel",class:"p-button-text",onClick:o[9]||(o[9]=s=>ee.value=!1)}),d(p(L),{label:"Add to Cart",icon:"pi pi-check",disabled:!z.value,onClick:Ne},null,8,["disabled"])])])):V("",!0)]),_:1},8,["visible"])]),_:1}))}};export{ii as default};
