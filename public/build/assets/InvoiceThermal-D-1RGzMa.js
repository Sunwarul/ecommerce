import{c as a,o as i,b as s,t as o,e as v,d as u,F as N,i as S,f as T,K as Z}from"./app-B-_qiM2O.js";import{_ as z}from"./_plugin-vue_export-helper-DlAUqK2U.js";const G="/build/assets/brand-CFo_ylgW.jpeg",H="/build/assets/logo-CduyBZj7.jpeg",Q={class:"min-h-screen bg-gray-100 py-3"},Y={class:"max-w-4xl mx-auto bg-white p-2 text-sm text-gray-800"},J={class:"relative border-b pb-1 mb-1 min-h-[65px]"},X={class:"text-center"},ss={class:"text-xl font-bold uppercase"},ts={class:"grid grid-cols-2 gap-1 mb-2"},os={class:"text-[10px]"},es={class:"text-[10px]"},ns={class:"text-[10px]"},ls={class:"text-right"},rs={class:"text-[10px]"},ds={class:"text-[10px]"},as={class:"text-[10px]"},is={class:"text-[10px]"},us={class:"overflow-x-auto"},cs={class:"w-full border border-gray-800 text-xs"},xs={class:"border px-2 py-1 text-left text-[10px]"},ps={class:"border px-2 py-1 text-left text-[10px]"},vs={class:"border px-2 py-1"},bs={class:"border px-2 py-1"},ms={class:"border px-2 py-1"},ys={class:"border px-2 py-1"},fs={class:"border px-2 py-1 font-semibold"},hs={key:0},_s={class:"grid grid-cols-3 gap-4 mt-3"},gs={class:"text-xs mt-4 col-span-2"},$s={key:0,class:"text-[10px] mt-1"},ws={class:"italic text-xs"},ks={class:"border text-sm"},Ts={class:"flex justify-between border-b px-2 text-[11px]"},Ns={class:"flex justify-between border-b px-2 text-[11px]"},Ss={class:"flex justify-between border-b px-2 text-[11px]"},js={class:"flex justify-between border-b px-2 text-[11px] font-bold"},Ds={class:"flex justify-between px-2 text-[11px] font-bold"},kt={__name:"InvoiceA4",props:{order:Object,shop:Object},setup(n){const y=b=>{if(!b)return"N/A";const e=new Date(b),d=String(e.getDate()).padStart(2,"0"),x=String(e.getMonth()+1).padStart(2,"0"),m=e.getFullYear();return`${d}-${x}-${m}`},c=b=>{if(!b)return"BDT Zero only";const e=d=>{const x=["","One","Two","Three","Four","Five","Six","Seven","Eight","Nine"],m=["","","Twenty","Thirty","Forty","Fifty","Sixty","Seventy","Eighty","Ninety"],p=["Ten","Eleven","Twelve","Thirteen","Fourteen","Fifteen","Sixteen","Seventeen","Eighteen","Nineteen"];return d<10?x[d]:d<20?p[d-10]:d<100?m[Math.floor(d/10)]+" "+x[d%10]:d<1e3?x[Math.floor(d/100)]+" Hundred "+e(d%100):d<1e5?e(Math.floor(d/1e3))+" Thousand "+e(d%1e3):d<1e7?e(Math.floor(d/1e5))+" Lakh "+e(d%1e5):""};return`${e(parseInt(b))} only`};return(b,e)=>{var d,x,m,p,t,f,h,_,g,$,w,r,k,j,D,F,C,I,P,B,M,A,W,E,O,q,L,R;return i(),a("div",Q,[s("div",Y,[s("div",J,[e[1]||(e[1]=s("div",{class:"absolute top-4 left-6"},[s("img",{src:G,alt:"Logo",class:"h-[35px] object-contain"})],-1)),s("div",X,[e[0]||(e[0]=s("h1",{class:"font-semibold uppercase"},"Sales Receipt",-1)),s("p",ss,o(((d=n.shop)==null?void 0:d.name)??""),1),s("p",null,o(((x=n.shop)==null?void 0:x.address)??""),1)]),e[2]||(e[2]=s("div",{class:"absolute top-0 right-6"},[s("img",{src:H,alt:"Logo",class:"h-[58px] object-contain"})],-1))]),s("div",ts,[s("div",null,[s("p",os,[e[3]||(e[3]=s("span",{class:"font-semibold"},"Customer Name:",-1)),v(" "+o(((p=(m=n.order)==null?void 0:m.customer)==null?void 0:p.name)??""),1)]),s("p",es,[e[4]||(e[4]=s("span",{class:"font-semibold"},"Phone No:",-1)),v(" "+o(((f=(t=n.order)==null?void 0:t.customer)==null?void 0:f.phone)??""),1)]),s("p",ns,[e[5]||(e[5]=s("span",{class:"font-semibold"},"Address:",-1)),v(" "+o(((_=(h=n.order)==null?void 0:h.customer)==null?void 0:_.address)??""),1)])]),s("div",ls,[s("p",rs,[e[6]||(e[6]=s("span",{class:"font-semibold"},"Date:",-1)),v(" "+o(y((g=n.order)==null?void 0:g.created_at)),1)]),s("p",ds,[e[7]||(e[7]=s("span",{class:"font-semibold"},"Invoice No.:",-1)),v(" "+o((($=n.order)==null?void 0:$.invoice_no)??""),1)]),s("p",as,o(((r=(w=n.order)==null?void 0:w.branch)==null?void 0:r.name)??"")+" #"+o(((j=(k=n.order)==null?void 0:k.branch)==null?void 0:j.code)??""),1),s("p",is,o(((F=(D=n.order)==null?void 0:D.branch)==null?void 0:F.address)??""),1)])]),s("div",us,[s("table",cs,[e[9]||(e[9]=s("thead",{class:"bg-gray-100"},[s("tr",null,[s("th",{class:"border px-2 py-1 text-left"},"Barcode/SKU/Serial"),s("th",{class:"border px-2 py-1 text-left"},"Product"),s("th",{class:"border px-2 py-1"},"Unit Price"),s("th",{class:"border px-2 py-1"},"Qty"),s("th",{class:"border px-2 py-1"},"Discount"),s("th",{class:"border px-2 py-1"},"Tax"),s("th",{class:"border px-2 py-1"},"Total")])],-1)),s("tbody",null,[(i(!0),a(N,null,S(((C=n.order)==null?void 0:C.items)??[],l=>{var V,K,U;return i(),a("tr",{key:l.id,class:"text-center"},[s("td",xs,o(((V=l==null?void 0:l.product)==null?void 0:V.barcode)??((K=l==null?void 0:l.variation)==null?void 0:K.sku)??(l==null?void 0:l.sku)??((U=l==null?void 0:l.product)==null?void 0:U.serial)),1),s("td",ps,o((l==null?void 0:l.name)??""),1),s("td",vs,o((l==null?void 0:l.unit_price)??""),1),s("td",bs,o((l==null?void 0:l.quantity)??0),1),s("td",ms,o((l==null?void 0:l.discount_amount)??""),1),s("td",ys,o((l==null?void 0:l.tax_amount)??""),1),s("td",fs,o((l==null?void 0:l.line_total)??""),1)])}),128)),(P=(I=n.order)==null?void 0:I.items)!=null&&P.length?u("",!0):(i(),a("tr",hs,e[8]||(e[8]=[s("td",{colspan:"7",class:"text-center py-3"}," No items found ",-1)])))])])]),s("div",_s,[s("div",gs,[s("p",null,[e[10]||(e[10]=s("span",{class:"font-semibold"},"Warranty Info:",-1)),v(" "+o(((B=n.order)==null?void 0:B.warranty_info)??""),1)]),(M=n.order)!=null&&M.note?(i(),a("p",$s,[e[11]||(e[11]=s("span",{class:"font-semibold"},"Note:",-1)),v(" "+o((A=n.order)==null?void 0:A.note),1)])):u("",!0),s("p",ws,[e[12]||(e[12]=v(" Amount in Words: ")),s("strong",null,o(c((W=n.order)==null?void 0:W.total_amount)),1)])]),s("div",ks,[s("div",Ts,[e[13]||(e[13]=s("span",null,"Sub Total",-1)),s("span",null,o(((E=n.order)==null?void 0:E.subtotal)??""),1)]),s("div",Ns,[e[14]||(e[14]=s("span",null,"Discount",-1)),s("span",null,o(((O=n.order)==null?void 0:O.discount_amount)??""),1)]),s("div",Ss,[e[15]||(e[15]=s("span",null,"Tax",-1)),s("span",null,o(((q=n.order)==null?void 0:q.tax_amount)??""),1)]),s("div",js,[e[16]||(e[16]=s("span",null,"Grand Total",-1)),s("span",null,o(((L=n.order)==null?void 0:L.total_amount)??""),1)]),s("div",Ds,[e[17]||(e[17]=s("span",null,"Paid",-1)),s("span",null,o(((R=n.order)==null?void 0:R.paid_amount)??""),1)])])]),e[18]||(e[18]=s("div",{class:"text-center mt-6 text-xs"}," Thank you for your purchase. ",-1))])])}}},Fs={key:0,class:"watermark"},Cs={class:"center"},Is={class:"shop-name"},Ps={class:"small"},Bs={class:"small"},Ms={class:"meta small"},As={class:"small"},Ws={key:0},Es={key:1},Os={class:"row"},qs={class:"bold"},Ls={class:"r bold"},Rs={class:"row small"},Vs={class:"r"},Ks={class:"row"},Us={class:"r"},Zs={class:"row"},zs={class:"r neg"},Gs={class:"row"},Hs={class:"r"},Qs={class:"row big"},Ys={class:"r"},Js={class:"row"},Xs={class:"r"},st={key:1,class:"row"},tt={class:"r"},ot={key:2,class:"row"},et={class:"r due"},nt={key:3},lt={class:"row small"},rt={class:"bold"},dt={class:"r bold"},at={key:0,class:"row small"},it={class:"r"},ut={key:1,class:"row small"},ct={class:"r"},xt={key:2,class:"meta-wrap"},pt={key:0,class:"row small"},vt={class:"r"},bt={key:1,class:"row small"},mt={class:"r"},yt={key:2,class:"row small"},ft={class:"r"},ht={key:3,class:"row small"},_t={class:"r"},gt={__name:"InvoiceThermal",props:{order:{type:Object,required:!0},shop:{type:Object,required:!0},width:{type:Number,default:80}},setup(n){const y=n,c=p=>Number(p||0).toFixed(2),b=T(()=>(y.order.payments||[]).reduce((p,t)=>p+Number(t.amount||0),0)),e=T(()=>Number(y.order.paid_amount??b.value)),d=T(()=>Math.max(0,Number(y.order.total_amount||0)-e.value)),x=T(()=>Math.max(0,e.value-Number(y.order.total_amount||0))),m=T(()=>y.width===58?"280px":"380px");return(p,t)=>{var f,h,_,g,$,w;return i(),a("div",{class:"receipt",style:Z({maxWidth:m.value})},[n.order.status==="draft"?(i(),a("div",Fs,"DRAFT")):u("",!0),s("div",Cs,[s("div",Is,o(n.shop.name),1),s("div",Ps,o(n.shop.address),1),s("div",Bs,"Phone: "+o(n.shop.phone),1)]),t[17]||(t[17]=s("div",{class:"sep"},null,-1)),s("div",Ms,[s("div",null,"Invoice: "+o(n.order.invoice_no||`#${n.order.id}`),1),s("div",null,"Date: "+o(new Date(n.order.created_at).toLocaleString()),1),s("div",null,"Cashier: "+o(((f=n.order.user)==null?void 0:f.name)||"—"),1),s("div",null,"Branch: "+o(((h=n.order.branch)==null?void 0:h.name)||"—"),1)]),t[18]||(t[18]=s("div",{class:"sep"},null,-1)),s("div",As,[s("div",null,[t[0]||(t[0]=s("b",null,"Customer:",-1)),v(" "+o(((_=n.order.customer)==null?void 0:_.name)||"Walk-in"),1)]),(g=n.order.customer)!=null&&g.phone?(i(),a("div",Ws," Phone: "+o(n.order.customer.phone),1)):u("",!0),($=n.order.customer)!=null&&$.email?(i(),a("div",Es," Email: "+o(n.order.customer.email),1)):u("",!0)]),t[19]||(t[19]=s("div",{class:"sep"},null,-1)),t[20]||(t[20]=s("div",{class:"row head"},[s("span",null,"Item"),s("span",{class:"r"},"Amt")],-1)),t[21]||(t[21]=s("div",{class:"sep thin"},null,-1)),(i(!0),a(N,null,S(n.order.items,r=>(i(),a("div",{key:r.id,class:"item"},[s("div",Os,[s("span",qs,o(r.name),1),s("span",Ls,o(c(r.line_total||0)),1)]),s("div",Rs,[s("span",null,o(r.sku),1),s("span",Vs,o(r.quantity)+" × "+o(c(r.unit_price)),1)])]))),128)),t[22]||(t[22]=s("div",{class:"sep"},null,-1)),s("div",Ks,[t[1]||(t[1]=s("span",null,"Subtotal",-1)),s("span",Us,o(c(n.order.subtotal)),1)]),s("div",Zs,[t[2]||(t[2]=s("span",null,"Discount",-1)),s("span",zs,"-"+o(c(n.order.discount_amount)),1)]),s("div",Gs,[t[3]||(t[3]=s("span",null,"Tax",-1)),s("span",Hs,o(c(n.order.tax_amount)),1)]),t[23]||(t[23]=s("div",{class:"sep"},null,-1)),s("div",Qs,[t[4]||(t[4]=s("span",null,"Total",-1)),s("span",Ys,o(c(n.order.total_amount)),1)]),s("div",Js,[t[5]||(t[5]=s("span",null,"Paid",-1)),s("span",Xs,o(c(e.value)),1)]),x.value>0?(i(),a("div",st,[t[6]||(t[6]=s("span",null,"Change",-1)),s("span",tt,o(c(x.value)),1)])):u("",!0),d.value>0?(i(),a("div",ot,[t[7]||(t[7]=s("span",null,"Due",-1)),s("span",et,o(c(d.value)),1)])):u("",!0),(w=n.order.payments)!=null&&w.length?(i(),a("div",nt,[t[15]||(t[15]=s("div",{class:"sep"},null,-1)),t[16]||(t[16]=s("div",{class:"bold"},"Payments",-1)),(i(!0),a(N,null,S(n.order.payments,r=>{var k;return i(),a("div",{key:r.id,class:"pay-block"},[s("div",lt,[s("span",rt,o(((k=r.payment_method)==null?void 0:k.name)||"Method"),1),s("span",dt,o(c(r.amount)),1)]),r.transaction_ref?(i(),a("div",at,[t[8]||(t[8]=s("span",{class:"muted"},"Txn Ref",-1)),s("span",it,o(r.transaction_ref),1)])):u("",!0),r.notes?(i(),a("div",ut,[t[9]||(t[9]=s("span",{class:"muted"},"Note",-1)),s("span",ct,o(r.notes),1)])):u("",!0),r.meta?(i(),a("div",xt,[r.meta.customer_bank_name?(i(),a("div",pt,[t[10]||(t[10]=s("span",{class:"muted"},"Customer Bank",-1)),s("span",vt,o(r.meta.customer_bank_name),1)])):u("",!0),r.meta.customer_account_no?(i(),a("div",bt,[t[11]||(t[11]=s("span",{class:"muted"},"Customer A/C",-1)),s("span",mt,o(r.meta.customer_account_no),1)])):u("",!0),r.meta.received_to_bank_account_id?(i(),a("div",yt,[t[12]||(t[12]=s("span",{class:"muted"},"Received To",-1)),s("span",ft,"#"+o(r.meta.received_to_bank_account_id),1)])):u("",!0),r.meta.txn_ref?(i(),a("div",ht,[t[13]||(t[13]=s("span",{class:"muted"},"Bank Txn/Cheque",-1)),s("span",_t,o(r.meta.txn_ref),1)])):u("",!0)])):u("",!0),t[14]||(t[14]=s("div",{class:"sep thin"},null,-1))])}),128))])):u("",!0),t[24]||(t[24]=s("div",{class:"sep"},null,-1)),t[25]||(t[25]=s("div",{class:"center bold"},"Thank you!",-1)),t[26]||(t[26]=s("div",{class:"center small"},"Powered by POS",-1))],4)}}},Tt=z(gt,[["__scopeId","data-v-e7dddf68"]]);export{Tt as I,kt as _};
